<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教学管理 - 快哥智服平台</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
<div class="main-content">
<!-- 以下内容为原样拆分自index.html的#page-teaching -->
<div class="page-header">
    <div class="header-left">
        <h1><i class="fas fa-chalkboard-teacher"></i> 教学管理</h1>
        <p class="page-desc">管理您的教学课程，分享专业知识，培养技术人才</p>
    </div>
</div>

<!-- 统计卡片 -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
            <span style="color: #6c757d; font-size: 0.9rem; font-weight: 500;">总课程</span>
            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1rem;">
                <i class="fas fa-graduation-cap"></i>
            </div>
        </div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #333;">18</div>
        <div style="font-size: 0.8rem; color: #28a745; margin-top: 8px;">
            <i class="fas fa-arrow-up"></i> +3 本月新增
        </div>
    </div>
    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
            <span style="color: #6c757d; font-size: 0.9rem; font-weight: 500;">总学员</span>
            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #ffc107, #fd7e14); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1rem;">
                <i class="fas fa-users"></i>
            </div>
        </div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #333;">1,256</div>
        <div style="font-size: 0.8rem; color: #ffc107; margin-top: 8px;">
            <i class="fas fa-arrow-up"></i> +89 本月新增
        </div>
    </div>
    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
            <span style="color: #6c757d; font-size: 0.9rem; font-weight: 500;">总收益</span>
            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #28a745, #20c997); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1rem;">
                <i class="fas fa-coins"></i>
            </div>
        </div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #333;">¥15,680</div>
        <div style="font-size: 0.8rem; color: #28a745; margin-top: 8px;">
            <i class="fas fa-arrow-up"></i> +28.5% 较上月
        </div>
    </div>
    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
            <span style="color: #6c757d; font-size: 0.9rem; font-weight: 500;">平均评分</span>
            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #17a2b8, #20c997); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1rem;">
                <i class="fas fa-star"></i>
            </div>
        </div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #333;">4.8</div>
        <div style="font-size: 0.8rem; color: #17a2b8; margin-top: 8px;">
            <i class="fas fa-star"></i> 优秀评价
        </div>
    </div>
</div>

<!-- 操作按钮 -->
<div style="background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <button onclick="showCreateCourseModal()" style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.95rem; font-weight: 500;">
                <i class="fas fa-plus"></i>
                创建课程
            </button>
            <button onclick="showLiveClassModal()" style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.95rem; font-weight: 500;">
                <i class="fas fa-video"></i>
                直播课程
            </button>
            <button onclick="exportTeachingData()" style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 8px; cursor: pointer; font-size: 0.95rem; font-weight: 500;">
                <i class="fas fa-download"></i>
                导出数据
            </button>
        </div>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <select style="padding: 10px 15px; border: 1px solid #e0e3ea; border-radius: 8px; font-size: 0.9rem; background: white;">
                <option>全部类型</option>
                <option>在线课程</option>
                <option>直播课程</option>
                <option>实操培训</option>
                <option>认证培训</option>
            </select>
            <select style="padding: 10px 15px; border: 1px solid #e0e3ea; border-radius: 8px; font-size: 0.9rem; background: white;">
                <option>全部状态</option>
                <option>已发布</option>
                <option>审核中</option>
                <option>已拒绝</option>
                <option>草稿</option>
            </select>
            <input type="text" placeholder="搜索课程..." style="padding: 10px 15px; border: 1px solid #e0e3ea; border-radius: 8px; font-size: 0.9rem; min-width: 200px;">
            <button style="padding: 10px 15px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
</div>

<!-- 课程列表 -->
<div style="background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="color: #333; font-size: 1.2rem; display: flex; align-items: center; gap: 10px; margin: 0;">
            <i class="fas fa-list" style="color: #667eea;"></i>
            我的课程
        </h3>
        <div style="display: flex; gap: 10px;">
            <button style="padding: 8px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                <i class="fas fa-th-large"></i>
            </button>
            <button style="padding: 8px 12px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                <i class="fas fa-list"></i>
            </button>
        </div>
    </div>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px;">
        <!-- 课程卡片1 -->
        <div style="border: 1px solid #e9ecef; border-radius: 10px; overflow: hidden; transition: all 0.3s; hover:shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <div style="height: 180px; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; position: relative;">
                    <i class="fas fa-graduation-cap" style="font-size: 3rem;"></i>
                    <div style="position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.5); color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem;">
                        <i class="fas fa-play"></i> 在线课程
                    </div>
                </div>
                <div style="position: absolute; top: 10px; right: 10px;">
                    <span style="padding: 4px 8px; background: #28a745; color: white; border-radius: 12px; font-size: 0.75rem;">已发布</span>
                </div>
            </div>
            <div style="padding: 15px;">
                <h4 style="margin: 0 0 10px 0; color: #333; font-size: 1rem; line-height: 1.4;">空压机维修技术入门</h4>
                <p style="color: #6c757d; font-size: 0.85rem; margin: 0 0 15px 0; line-height: 1.5;">从零开始学习空压机维修技术，包含基础理论、常见故障诊断和维修实操。</p>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <div style="display: flex; gap: 15px; font-size: 0.8rem; color: #6c757d;">
                        <span><i class="fas fa-users"></i> 156</span>
                        <span><i class="fas fa-clock"></i> 12课时</span>
                        <span><i class="fas fa-star"></i> 4.9</span>
                    </div>
                    <div style="color: #28a745; font-weight: 600; font-size: 0.9rem;">¥299</div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button onclick="manageCourse('course1')" style="flex: 1; padding: 8px; background: #ffc107; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-cog"></i> 管理课程
                    </button>
                    <button onclick="viewCourseData('course1')" style="padding: 8px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-chart-bar"></i> 查看数据
                    </button>
                </div>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <button onclick="editCourse('course1')" style="flex: 1; padding: 8px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-edit"></i> 继续编辑
                    </button>
                    <button onclick="previewCourse('course1')" style="flex: 1; padding: 8px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-eye"></i> 预览
                    </button>
                    <button onclick="manageStudents('course1')" style="flex: 1; padding: 8px; background: #17a2b8; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-users"></i> 学员
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 课程卡片2 -->
        <div style="border: 1px solid #e9ecef; border-radius: 10px; overflow: hidden; transition: all 0.3s; hover:shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <div style="height: 180px; background: linear-gradient(135deg, #28a745, #20c997); display: flex; align-items: center; justify-content: center; color: white; position: relative;">
                    <i class="fas fa-video" style="font-size: 3rem;"></i>
                    <div style="position: absolute; top: 10px; left: 10px; background: rgba(220, 53, 69, 0.8); color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem;">
                        <i class="fas fa-broadcast-tower"></i> 直播中
                    </div>
                </div>
                <div style="position: absolute; top: 10px; right: 10px;">
                    <span style="padding: 4px 8px; background: #28a745; color: white; border-radius: 12px; font-size: 0.75rem;">已发布</span>
                </div>
            </div>
            <div style="padding: 15px;">
                <h4 style="margin: 0 0 10px 0; color: #333; font-size: 1rem; line-height: 1.4;">PLC编程实战培训</h4>
                <p style="color: #6c757d; font-size: 0.85rem; margin: 0 0 15px 0; line-height: 1.5;">通过实际项目案例学习PLC编程，掌握西门子S7-1200编程技巧。</p>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <div style="display: flex; gap: 15px; font-size: 0.8rem; color: #6c757d;">
                        <span><i class="fas fa-users"></i> 89</span>
                        <span><i class="fas fa-clock"></i> 8课时</span>
                        <span><i class="fas fa-star"></i> 4.8</span>
                    </div>
                    <div style="color: #28a745; font-weight: 600; font-size: 0.9rem;">¥599</div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button onclick="manageCourse('course2')" style="flex: 1; padding: 8px; background: #ffc107; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-cog"></i> 管理课程
                    </button>
                    <button onclick="viewCourseData('course2')" style="padding: 8px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-chart-bar"></i> 查看数据
                    </button>
                </div>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <button onclick="editCourse('course2')" style="flex: 1; padding: 8px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-edit"></i> 继续编辑
                    </button>
                    <button onclick="previewCourse('course2')" style="flex: 1; padding: 8px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-eye"></i> 预览
                    </button>
                    <button onclick="manageStudents('course2')" style="flex: 1; padding: 8px; background: #17a2b8; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-users"></i> 学员
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 课程卡片3 -->
        <div style="border: 1px solid #e9ecef; border-radius: 10px; overflow: hidden; transition: all 0.3s; hover:shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <div style="height: 180px; background: linear-gradient(135deg, #17a2b8, #6f42c1); display: flex; align-items: center; justify-content: center; color: white; position: relative;">
                    <i class="fas fa-tools" style="font-size: 3rem;"></i>
                    <div style="position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.5); color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem;">
                        <i class="fas fa-hands-helping"></i> 实操培训
                    </div>
                </div>
                <div style="position: absolute; top: 10px; right: 10px;">
                    <span style="padding: 4px 8px; background: #ffc107; color: #856404; border-radius: 12px; font-size: 0.75rem;">审核中</span>
                </div>
            </div>
            <div style="padding: 15px;">
                <h4 style="margin: 0 0 10px 0; color: #333; font-size: 1rem; line-height: 1.4;">制冷设备维护实操</h4>
                <p style="color: #6c757d; font-size: 0.85rem; margin: 0 0 15px 0; line-height: 1.5;">现场实操培训，学习制冷设备的日常维护、故障诊断和维修技术。</p>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <div style="display: flex; gap: 15px; font-size: 0.8rem; color: #6c757d;">
                        <span><i class="fas fa-users"></i> 0</span>
                        <span><i class="fas fa-clock"></i> 16课时</span>
                        <span><i class="fas fa-star"></i> -</span>
                    </div>
                    <div style="color: #28a745; font-weight: 600; font-size: 0.9rem;">¥899</div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button onclick="manageCourse('course3')" style="flex: 1; padding: 8px; background: #ffc107; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-cog"></i> 管理课程
                    </button>
                    <button onclick="viewCourseData('course3')" style="padding: 8px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-chart-bar"></i> 查看数据
                    </button>
                </div>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <button onclick="editCourse('course3')" style="flex: 1; padding: 8px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-edit"></i> 继续编辑
                    </button>
                    <button onclick="previewCourse('course3')" style="flex: 1; padding: 8px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-eye"></i> 预览
                    </button>
                    <button onclick="copyCourse('course3')" style="padding: 8px; background: #6f42c1; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-copy"></i> 复制
                    </button>
                    <button onclick="deleteCourse('course3')" style="padding: 8px; background: #dc3545; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 分页 -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #f0f0f0;">
        <div style="color: #6c757d; font-size: 0.9rem;">
            共 <span style="color: #333; font-weight: 500;">18</span> 条记录，第 <span style="color: #333; font-weight: 500;">1</span> 页，共 <span style="color: #333; font-weight: 500;">2</span> 页
        </div>
        <div style="display: flex; gap: 5px;">
            <button style="padding: 8px 12px; border: 1px solid #e0e3ea; background: #f8f9fa; color: #6c757d; border-radius: 6px; cursor: not-allowed;" disabled>
                <i class="fas fa-angle-left"></i> 上一页
            </button>
            <button style="padding: 8px 12px; border: 1px solid #667eea; background: #667eea; color: white; border-radius: 6px; cursor: pointer;">1</button>
            <button style="padding: 8px 12px; border: 1px solid #e0e3ea; background: white; color: #333; border-radius: 6px; cursor: pointer;">2</button>
            <button style="padding: 8px 12px; border: 1px solid #e0e3ea; background: white; color: #333; border-radius: 6px; cursor: pointer;">
                下一页 <i class="fas fa-angle-right"></i>
            </button>
        </div>
    </div>
</div>

<!-- 创建课程弹窗 -->
<div id="createCourseModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem;">创建新课程</h3>
            <button onclick="closeCreateCourseModal()" style="position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
        </div>
        <form id="createCourseForm" style="padding: 25px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div class="form-group">
                    <label class="form-label">课程名称</label>
                    <input type="text" class="form-input" placeholder="请输入课程名称" required>
                </div>
                <div class="form-group">
                    <label class="form-label">课程类型</label>
                    <select class="form-input" required>
                        <option value="">请选择</option>
                        <option value="online">在线课程</option>
                        <option value="live">直播课程</option>
                        <option value="practical">实操培训</option>
                        <option value="certification">认证培训</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">课程描述</label>
                <textarea class="form-input" rows="3" placeholder="请输入课程描述，包括学习目标、适用人群等" required></textarea>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div class="form-group">
                    <label class="form-label">课程价格 (元)</label>
                    <input type="number" class="form-input" placeholder="0" min="0" step="1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">预计课时</label>
                    <input type="number" class="form-input" placeholder="8" min="1" required>
                </div>
                <div class="form-group">
                    <label class="form-label">难度等级</label>
                    <select class="form-input" required>
                        <option value="">请选择</option>
                        <option value="beginner">初级</option>
                        <option value="intermediate">中级</option>
                        <option value="advanced">高级</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">适用人群</label>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-top: 8px;">
                    <style>
                        .audience-option {
                            display: flex;
                            align-items: center;
                            gap: 10px;
                            padding: 12px 16px;
                            border: 1px solid #e9ecef;
                            border-radius: 8px;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            background: white;
                            font-size: 0.9rem;
                            color: #495057;
                        }
                        
                        .audience-option:hover {
                            border-color: #667eea;
                            background: #f8f9ff;
                            transform: translateY(-1px);
                            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
                        }
                        
                        .audience-option input[type="checkbox"] {
                            display: none;
                        }
                        
                        .audience-option .checkmark {
                            width: 18px;
                            height: 18px;
                            border: 2px solid #dee2e6;
                            border-radius: 4px;
                            position: relative;
                            transition: all 0.3s ease;
                            flex-shrink: 0;
                        }
                        
                        .audience-option:hover .checkmark {
                            border-color: #667eea;
                        }
                        
                        .audience-option input[type="checkbox"]:checked + .checkmark {
                            background: #667eea;
                            border-color: #667eea;
                            transform: scale(1.05);
                        }
                        
                        .audience-option input[type="checkbox"]:checked + .checkmark::after {
                            content: '✓';
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            color: white;
                            font-size: 12px;
                            font-weight: bold;
                        }
                        
                        .audience-option input[type="checkbox"]:checked ~ .audience-text {
                            color: #667eea;
                            font-weight: 500;
                        }
                    </style>
                    <label class="audience-option">
                        <input type="checkbox" name="audience" value="beginner">
                        <span class="checkmark"></span>
                        <span class="audience-text">技术新手</span>
                    </label>
                    <label class="audience-option">
                        <input type="checkbox" name="audience" value="technician">
                        <span class="checkmark"></span>
                        <span class="audience-text">维修技师</span>
                    </label>
                    <label class="audience-option">
                        <input type="checkbox" name="audience" value="engineer">
                        <span class="checkmark"></span>
                        <span class="audience-text">工程师</span>
                    </label>
                    <label class="audience-option">
                        <input type="checkbox" name="audience" value="manager">
                        <span class="checkmark"></span>
                        <span class="audience-text">管理人员</span>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">课程大纲</label>
                <div id="syllabusContainer">
                    <div class="syllabus-item" style="display: flex; gap: 10px; margin-bottom: 10px; align-items: center;">
                        <input type="text" placeholder="第1课：课程标题" style="flex: 1; padding: 10px 12px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.95rem;">
                        <input type="number" placeholder="时长(分钟)" style="width: 120px; padding: 10px 12px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.95rem;">
                    </div>
                </div>
                <button type="button" onclick="addSyllabusItem()" style="padding: 8px 15px; background: #f8f9fa; color: #667eea; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.9rem; margin-top: 10px;">
                    <i class="fas fa-plus"></i> 添加课程章节
                </button>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button type="button" onclick="closeCreateCourseModal()" style="flex: 1; padding: 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer;">取消</button>
                <button type="submit" style="flex: 1; padding: 12px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer;">创建课程</button>
            </div>
        </form>
    </div>
</div>

<!-- 直播课程弹窗 -->
<div id="liveClassModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem;">创建直播课程</h3>
            <button onclick="closeLiveClassModal()" style="position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
        </div>
        <form id="liveClassForm" style="padding: 25px;">
            <div class="form-group">
                <label class="form-label">直播标题</label>
                <input type="text" class="form-input" placeholder="请输入直播标题" required>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label class="form-label">直播日期</label>
                    <input type="date" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">直播时间</label>
                    <input type="time" class="form-input" required>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">预计时长 (分钟)</label>
                <input type="number" class="form-input" placeholder="60" min="15" max="480" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">直播简介</label>
                <textarea class="form-input" rows="3" placeholder="请输入直播内容简介" required></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">参与方式</label>
                <div style="display: flex; gap: 15px; margin-top: 8px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="radio" name="joinType" value="free" checked>
                        <span>免费参与</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="radio" name="joinType" value="paid">
                        <span>付费参与</span>
                    </label>
                </div>
            </div>
            
            <div id="paidOptions" style="display: none;">
                <div class="form-group">
                    <label class="form-label">参与费用 (元)</label>
                    <input type="number" class="form-input" placeholder="0" min="0">
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button type="button" onclick="closeLiveClassModal()" style="flex: 1; padding: 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer;">取消</button>
                <button type="submit" style="flex: 1; padding: 12px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer;">创建直播</button>
            </div>
        </form>
    </div>
</div>

<!-- 学员管理弹窗 -->
<div id="studentsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem;">学员管理</h3>
            <button onclick="closeStudentsModal()" style="position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
        </div>
        <div style="padding: 25px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <input type="text" placeholder="搜索学员..." style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; width: 200px;">
                    <select style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px;">
                        <option>全部状态</option>
                        <option>学习中</option>
                        <option>已完成</option>
                        <option>暂停学习</option>
                    </select>
                </div>
                <button onclick="exportStudentData()" style="padding: 8px 15px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer;">
                    <i class="fas fa-download"></i> 导出数据
                </button>
            </div>
            
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 2px solid #f0f0f0;">
                        <th style="padding: 12px 8px; text-align: left; color: #667eea; font-weight: 600; font-size: 0.9rem;">学员</th>
                        <th style="padding: 12px 8px; text-align: left; color: #667eea; font-weight: 600; font-size: 0.9rem;">学习进度</th>
                        <th style="padding: 12px 8px; text-align: left; color: #667eea; font-weight: 600; font-size: 0.9rem;">最后学习时间</th>
                        <th style="padding: 12px 8px; text-align: left; color: #667eea; font-weight: 600; font-size: 0.9rem;">状态</th>
                        <th style="padding: 12px 8px; text-align: left; color: #667eea; font-weight: 600; font-size: 0.9rem;">操作</th>
                    </tr>
                </thead>
                <tbody id="studentsTableBody">
                    <!-- 学员数据将由JavaScript动态填充 -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- 管理课程弹窗 -->
<div id="manageCourseModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-cog" style="color: #ffc107;"></i>
                课程管理
            </h3>
            <button onclick="closeManageCourseModal()" style="background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
        </div>
        
        <div style="padding: 25px;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <i class="fas fa-users" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                    <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;" id="courseStudentCount">156</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">总学员数</div>
                </div>
                <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <i class="fas fa-chart-line" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                    <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;" id="courseCompletionRate">89%</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">完成率</div>
                </div>
                <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <i class="fas fa-dollar-sign" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                    <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;" id="courseRevenue">¥46,644</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">总收益</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem;">课程操作</h4>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button onclick="editCourseDetails()" style="padding: 12px 16px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-edit"></i> 编辑课程信息
                        </button>
                        <button onclick="manageCourseContent()" style="padding: 12px 16px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-book"></i> 管理课程内容
                        </button>
                        <button onclick="courseSettings()" style="padding: 12px 16px; background: #17a2b8; color: white; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-cog"></i> 课程设置
                        </button>
                        <button onclick="copyCourse()" style="padding: 12px 16px; background: #6f42c1; color: white; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-copy"></i> 复制课程
                        </button>
                    </div>
                </div>
                
                <div>
                    <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem;">课程状态</h4>
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span style="color: #6c757d;">发布状态</span>
                            <span style="color: #28a745; font-weight: 500;" id="courseStatus">已发布</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span style="color: #6c757d;">创建时间</span>
                            <span style="color: #333;" id="courseCreateTime">2024-05-15</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span style="color: #6c757d;">最后更新</span>
                            <span style="color: #333;" id="courseUpdateTime">2024-06-01</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #6c757d;">课程评分</span>
                            <span style="color: #ffc107; font-weight: 500;" id="courseRating">4.9★</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 查看课程数据弹窗 -->
<div id="viewCourseDataModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 95%; max-width: 1000px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-chart-bar" style="color: #17a2b8;"></i>
                课程数据分析
            </h3>
            <div style="display: flex; gap: 10px; align-items: center;">
                <select id="dataAnalysisPeriod" style="padding: 6px 10px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.9rem;">
                    <option value="week">本周</option>
                    <option value="month" selected>本月</option>
                    <option value="quarter">本季度</option>
                    <option value="year">本年度</option>
                </select>
                <button onclick="exportCourseData()" style="padding: 6px 12px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                    <i class="fas fa-download"></i> 导出
                </button>
                <button onclick="closeViewCourseDataModal()" style="background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
            </div>
        </div>
        
        <div style="padding: 25px;">
            <!-- 学习数据概览 -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-chart-pie" style="color: #667eea;"></i>
                    学习数据概览
                </h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; text-align: center;">
                        <i class="fas fa-play-circle" style="font-size: 2rem; color: #28a745; margin-bottom: 10px;"></i>
                        <div style="font-size: 1.6rem; font-weight: bold; color: #333; margin-bottom: 5px;">89%</div>
                        <div style="color: #6c757d; font-size: 0.9rem;">平均观看完成率</div>
                    </div>
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; text-align: center;">
                        <i class="fas fa-clock" style="font-size: 2rem; color: #17a2b8; margin-bottom: 10px;"></i>
                        <div style="font-size: 1.6rem; font-weight: bold; color: #333; margin-bottom: 5px;">24分钟</div>
                        <div style="color: #6c757d; font-size: 0.9rem;">平均学习时长</div>
                    </div>
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; text-align: center;">
                        <i class="fas fa-redo" style="font-size: 2rem; color: #ffc107; margin-bottom: 10px;"></i>
                        <div style="font-size: 1.6rem; font-weight: bold; color: #333; margin-bottom: 5px;">15%</div>
                        <div style="color: #6c757d; font-size: 0.9rem;">回看率</div>
                    </div>
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; text-align: center;">
                        <i class="fas fa-comments" style="font-size: 2rem; color: #6f42c1; margin-bottom: 10px;"></i>
                        <div style="font-size: 1.6rem; font-weight: bold; color: #333; margin-bottom: 5px;">68</div>
                        <div style="color: #6c757d; font-size: 0.9rem;">互动评论数</div>
                    </div>
                </div>
            </div>

            <!-- 学员学习进度 -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-users-cog" style="color: #28a745;"></i>
                    学员学习分析
                </h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                        <h5 style="color: #333; margin-bottom: 15px; font-size: 1rem;">学习进度分布</h5>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">已完成</span>
                                <span style="color: #28a745; font-weight: 500;">89人 (57%)</span>
                            </div>
                            <div style="width: 100%; height: 8px; background: #f8f9fa; border-radius: 4px;">
                                <div style="width: 57%; height: 100%; background: #28a745; border-radius: 4px;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">学习中</span>
                                <span style="color: #17a2b8; font-weight: 500;">45人 (29%)</span>
                            </div>
                            <div style="width: 100%; height: 8px; background: #f8f9fa; border-radius: 4px;">
                                <div style="width: 29%; height: 100%; background: #17a2b8; border-radius: 4px;"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">暂停学习</span>
                                <span style="color: #ffc107; font-weight: 500;">22人 (14%)</span>
                            </div>
                            <div style="width: 100%; height: 8px; background: #f8f9fa; border-radius: 4px;">
                                <div style="width: 14%; height: 100%; background: #ffc107; border-radius: 4px;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                        <h5 style="color: #333; margin-bottom: 15px; font-size: 1rem;">章节难度分析</h5>
                        <div style="space-y: 10px;">
                            <div style="margin-bottom: 12px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: #6c757d; font-size: 0.9rem;">第1章：基础理论</span>
                                    <span style="color: #28a745; font-weight: 500;">96%</span>
                                </div>
                                <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                    <div style="width: 96%; height: 100%; background: #28a745; border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: #6c757d; font-size: 0.9rem;">第2章：故障诊断</span>
                                    <span style="color: #17a2b8; font-weight: 500;">78%</span>
                                </div>
                                <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                    <div style="width: 78%; height: 100%; background: #17a2b8; border-radius: 3px;"></div>
                                </div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: #6c757d; font-size: 0.9rem;">第3章：实操维修</span>
                                    <span style="color: #ffc107; font-weight: 500;">64%</span>
                                </div>
                                <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                    <div style="width: 64%; height: 100%; background: #ffc107; border-radius: 3px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 学员反馈统计 -->
            <div>
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-star" style="color: #ffc107;"></i>
                    学员反馈统计
                </h4>
                <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div style="background: white; border-left: 4px solid #28a745; border-radius: 6px; padding: 15px;">
                            <div style="color: #28a745; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-thumbs-up"></i> 好评内容
                            </div>
                            <div style="color: #6c757d; font-size: 0.9rem; line-height: 1.5;">
                                "讲解非常详细"、"实操性强"、"老师经验丰富"
                            </div>
                        </div>
                        <div style="background: white; border-left: 4px solid #ffc107; border-radius: 6px; padding: 15px;">
                            <div style="color: #ffc107; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-lightbulb"></i> 改进建议
                            </div>
                            <div style="color: #6c757d; font-size: 0.9rem; line-height: 1.5;">
                                "希望增加更多案例"、"视频清晰度可以更高"
                            </div>
                        </div>
                        <div style="background: white; border-left: 4px solid #17a2b8; border-radius: 6px; padding: 15px;">
                            <div style="color: #17a2b8; font-weight: 600; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-chart-line"></i> 评分趋势
                            </div>
                            <div style="color: #6c757d; font-size: 0.9rem; line-height: 1.5;">
                                本月评分较上月提升0.2分，总体呈上升趋势
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 课程预览弹窗 -->
<div id="previewCourseModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-eye" style="color: #17a2b8;"></i>
                课程预览
            </h3>
            <button onclick="closePreviewCourseModal()" style="background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
        </div>
        
        <div style="padding: 25px;">
            <div style="background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 12px; padding: 30px; color: white; margin-bottom: 30px; text-align: center;">
                <h2 style="margin: 0 0 10px 0; font-size: 1.8rem;" id="previewCourseTitle">空压机维修技术入门</h2>
                <p style="margin: 0 0 20px 0; opacity: 0.9; font-size: 1.1rem;" id="previewCourseDesc">从零开始学习空压机维修技术，包含基础理论、常见故障诊断和维修实操</p>
                <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold;">12课时</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">总课时</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold;">4.9★</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">课程评分</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold;">¥299</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">课程价格</div>
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem;">课程大纲</h4>
                <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; overflow: hidden;">
                    <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e9ecef;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-play-circle" style="color: #28a745;"></i>
                                <span style="font-weight: 500;">第1章：空压机基础理论</span>
                            </div>
                            <span style="color: #6c757d; font-size: 0.9rem;">45分钟</span>
                        </div>
                    </div>
                    <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e9ecef;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-play-circle" style="color: #28a745;"></i>
                                <span style="font-weight: 500;">第2章：常见故障诊断方法</span>
                            </div>
                            <span style="color: #6c757d; font-size: 0.9rem;">60分钟</span>
                        </div>
                    </div>
                    <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e9ecef;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-play-circle" style="color: #28a745;"></i>
                                <span style="font-weight: 500;">第3章：实际维修操作演示</span>
                            </div>
                            <span style="color: #6c757d; font-size: 0.9rem;">90分钟</span>
                        </div>
                    </div>
                    <div style="background: #f8f9fa; padding: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-play-circle" style="color: #28a745;"></i>
                                <span style="font-weight: 500;">第4章：预防性维护与保养</span>
                            </div>
                            <span style="color: #6c757d; font-size: 0.9rem;">45分钟</span>
                        </div>
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 10px; justify-content: center;">
                <button onclick="editCourse('current')" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-edit"></i> 编辑课程
                </button>
                <button onclick="publishCourse()" style="padding: 12px 24px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-rocket"></i> 发布课程
                </button>
            </div>
        </div>
    </div>
</div>

<!-- 教学报告弹窗 -->
<div id="teachingReportModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 95%; max-width: 1000px; max-height: 90vh; overflow-y: auto; position: relative;">
        <div style="padding: 20px 25px; border-bottom: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0; color: #333; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-chart-bar" style="color: #667eea;"></i>
                教学数据报告
            </h3>
            <div style="display: flex; gap: 10px; align-items: center;">
                <select id="reportPeriod" style="padding: 6px 10px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.9rem;">
                    <option value="week">本周</option>
                    <option value="month" selected>本月</option>
                    <option value="quarter">本季度</option>
                    <option value="year">本年度</option>
                </select>
                <button onclick="exportReport()" style="padding: 6px 12px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                    <i class="fas fa-download"></i> 导出
                </button>
                <button onclick="closeTeachingReportModal()" style="background: none; border: none; font-size: 1.5rem; color: #6c757d; cursor: pointer;">×</button>
            </div>
        </div>
        
        <div style="padding: 25px;">
            <!-- 报告概览 -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-tachometer-alt" style="color: #17a2b8;"></i>
                    数据概览
                </h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <i class="fas fa-graduation-cap" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                        <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">18</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">总课程数</div>
                        <div style="font-size: 0.8rem; margin-top: 5px; opacity: 0.8;">
                            <i class="fas fa-arrow-up"></i> +3 较上月
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <i class="fas fa-users" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                        <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">1,256</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">总学员数</div>
                        <div style="font-size: 0.8rem; margin-top: 5px; opacity: 0.8;">
                            <i class="fas fa-arrow-up"></i> +89 较上月
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <i class="fas fa-coins" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                        <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">¥15,680</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">总收益</div>
                        <div style="font-size: 0.8rem; margin-top: 5px; opacity: 0.8;">
                            <i class="fas fa-arrow-up"></i> +28.5% 较上月
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <i class="fas fa-star" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.8;"></i>
                        <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">4.8</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">平均评分</div>
                        <div style="font-size: 0.8rem; margin-top: 5px; opacity: 0.8;">
                            <i class="fas fa-arrow-up"></i> +0.2 较上月
                        </div>
                    </div>
                </div>
            </div>

            <!-- 课程表现分析 -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-chart-line" style="color: #28a745;"></i>
                    课程表现分析
                </h4>
                <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="border-bottom: 2px solid #f0f0f0;">
                                <th style="padding: 12px 8px; text-align: left; color: #667eea; font-weight: 600; font-size: 0.9rem;">课程名称</th>
                                <th style="padding: 12px 8px; text-align: center; color: #667eea; font-weight: 600; font-size: 0.9rem;">学员数</th>
                                <th style="padding: 12px 8px; text-align: center; color: #667eea; font-weight: 600; font-size: 0.9rem;">完成率</th>
                                <th style="padding: 12px 8px; text-align: center; color: #667eea; font-weight: 600; font-size: 0.9rem;">评分</th>
                                <th style="padding: 12px 8px; text-align: center; color: #667eea; font-weight: 600; font-size: 0.9rem;">收益</th>
                                <th style="padding: 12px 8px; text-align: center; color: #667eea; font-weight: 600; font-size: 0.9rem;">趋势</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #f8f9fa;">
                                <td style="padding: 12px 8px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #28a745; border-radius: 50%;"></div>
                                        <span style="font-weight: 500;">空压机维修技术入门</span>
                                    </div>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">156</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #28a745; font-weight: 500;">89%</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #ffc107;">4.9★</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center; color: #28a745; font-weight: 500;">¥4,680</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #28a745; font-size: 0.8rem;">
                                        <i class="fas fa-arrow-up"></i> +15%
                                    </span>
                                </td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f8f9fa;">
                                <td style="padding: 12px 8px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #17a2b8; border-radius: 50%;"></div>
                                        <span style="font-weight: 500;">PLC编程实战培训</span>
                                    </div>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">89</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #28a745; font-weight: 500;">76%</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #ffc107;">4.8★</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center; color: #28a745; font-weight: 500;">¥5,330</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #28a745; font-size: 0.8rem;">
                                        <i class="fas fa-arrow-up"></i> +22%
                                    </span>
                                </td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f8f9fa;">
                                <td style="padding: 12px 8px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #ffc107; border-radius: 50%;"></div>
                                        <span style="font-weight: 500;">制冷设备维护实操</span>
                                    </div>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">45</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #dc3545; font-weight: 500;">45%</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #ffc107;">4.2★</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center; color: #28a745; font-weight: 500;">¥2,025</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #dc3545; font-size: 0.8rem;">
                                        <i class="fas fa-arrow-down"></i> -8%
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px 8px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #6f42c1; border-radius: 50%;"></div>
                                        <span style="font-weight: 500;">锅炉运行与维护</span>
                                    </div>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">68</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #28a745; font-weight: 500;">82%</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #ffc107;">4.7★</span>
                                </td>
                                <td style="padding: 12px 8px; text-align: center; color: #28a745; font-weight: 500;">¥3,645</td>
                                <td style="padding: 12px 8px; text-align: center;">
                                    <span style="color: #28a745; font-size: 0.8rem;">
                                        <i class="fas fa-arrow-up"></i> +12%
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 学员学习统计 -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-user-graduate" style="color: #fd7e14;"></i>
                    学员学习统计
                </h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                        <h5 style="color: #333; margin-bottom: 15px; font-size: 1rem;">学习活跃度</h5>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span style="color: #6c757d; font-size: 0.9rem;">活跃学员</span>
                            <span style="color: #28a745; font-weight: 500;">856人 (68%)</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: #f8f9fa; border-radius: 4px; margin-bottom: 15px;">
                            <div style="width: 68%; height: 100%; background: #28a745; border-radius: 4px;"></div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span style="color: #6c757d; font-size: 0.9rem;">偶尔学习</span>
                            <span style="color: #ffc107; font-weight: 500;">285人 (23%)</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: #f8f9fa; border-radius: 4px; margin-bottom: 15px;">
                            <div style="width: 23%; height: 100%; background: #ffc107; border-radius: 4px;"></div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span style="color: #6c757d; font-size: 0.9rem;">暂停学习</span>
                            <span style="color: #dc3545; font-weight: 500;">115人 (9%)</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: #f8f9fa; border-radius: 4px;">
                            <div style="width: 9%; height: 100%; background: #dc3545; border-radius: 4px;"></div>
                        </div>
                    </div>
                    
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                        <h5 style="color: #333; margin-bottom: 15px; font-size: 1rem;">学习时长分布</h5>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">0-1小时/天</span>
                                <span style="color: #667eea; font-weight: 500;">45%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 45%; height: 100%; background: #667eea; border-radius: 3px;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">1-2小时/天</span>
                                <span style="color: #28a745; font-weight: 500;">32%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 32%; height: 100%; background: #28a745; border-radius: 3px;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">2-3小时/天</span>
                                <span style="color: #ffc107; font-weight: 500;">18%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 18%; height: 100%; background: #ffc107; border-radius: 3px;"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #6c757d; font-size: 0.9rem;">3小时以上/天</span>
                                <span style="color: #dc3545; font-weight: 500;">5%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 5%; height: 100%; background: #dc3545; border-radius: 3px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 收益分析 -->
            <div style="margin-bottom: 30px;">
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-chart-pie" style="color: #6f42c1;"></i>
                    收益分析
                </h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                        <h5 style="color: #333; margin-bottom: 15px; font-size: 1rem;">月度收益趋势</h5>
                        <div style="text-align: center; color: #6c757d; margin: 30px 0;">
                            <i class="fas fa-chart-line" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.3;"></i>
                            <div style="font-size: 0.9rem;">收益呈上升趋势</div>
                            <div style="font-size: 1.2rem; color: #28a745; font-weight: 600; margin-top: 10px;">+28.5%</div>
                        </div>
                        <div style="background: #f8f9fa; border-radius: 6px; padding: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="color: #6c757d; font-size: 0.85rem;">上月收益</span>
                                <span style="color: #333; font-weight: 500;">¥12,200</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: #6c757d; font-size: 0.85rem;">本月收益</span>
                                <span style="color: #28a745; font-weight: 600;">¥15,680</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: white; border: 1px solid #e9ecef; border-radius: 10px; padding: 20px;">
                        <h5 style="color: #333; margin-bottom: 15px; font-size: 1rem;">课程类型收益占比</h5>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: #667eea; border-radius: 2px;"></div>
                                    <span style="color: #6c757d; font-size: 0.9rem;">在线课程</span>
                                </div>
                                <span style="color: #333; font-weight: 500;">52%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 52%; height: 100%; background: #667eea; border-radius: 3px;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: #28a745; border-radius: 2px;"></div>
                                    <span style="color: #6c757d; font-size: 0.9rem;">直播课程</span>
                                </div>
                                <span style="color: #333; font-weight: 500;">28%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 28%; height: 100%; background: #28a745; border-radius: 3px;"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: #ffc107; border-radius: 2px;"></div>
                                    <span style="color: #6c757d; font-size: 0.9rem;">实操培训</span>
                                </div>
                                <span style="color: #333; font-weight: 500;">20%</span>
                            </div>
                            <div style="width: 100%; height: 6px; background: #f8f9fa; border-radius: 3px;">
                                <div style="width: 20%; height: 100%; background: #ffc107; border-radius: 3px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 改进建议 -->
            <div>
                <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-lightbulb" style="color: #ffc107;"></i>
                    改进建议
                </h4>
                <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                        <div style="background: white; border-left: 4px solid #28a745; border-radius: 6px; padding: 15px;">
                            <div style="color: #28a745; font-weight: 600; margin-bottom: 8px;">
                                <i class="fas fa-thumbs-up"></i> 优势保持
                            </div>
                            <div style="color: #6c757d; font-size: 0.9rem; line-height: 1.5;">
                                "空压机维修"和"PLC编程"课程表现优异，学员反馈良好，建议继续优化内容深度。
                            </div>
                        </div>
                        <div style="background: white; border-left: 4px solid #ffc107; border-radius: 6px; padding: 15px;">
                            <div style="color: #ffc107; font-weight: 600; margin-bottom: 8px;">
                                <i class="fas fa-exclamation-triangle"></i> 需要关注
                            </div>
                            <div style="color: #6c757d; font-size: 0.9rem; line-height: 1.5;">
                                "制冷设备维护"课程完成率偏低，建议调整课程难度或增加互动环节。
                            </div>
                        </div>
                        <div style="background: white; border-left: 4px solid #17a2b8; border-radius: 6px; padding: 15px;">
                            <div style="color: #17a2b8; font-weight: 600; margin-bottom: 8px;">
                                <i class="fas fa-rocket"></i> 发展机会
                            </div>
                            <div style="color: #6c757d; font-size: 0.9rem; line-height: 1.5;">
                                可考虑开设"工业4.0"、"智能制造"等新兴技术课程，市场需求较大。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// 课程管理相关功能
function manageCourse(courseId) {
    document.getElementById('manageCourseModal').style.display = 'flex';
    // 根据课程ID加载对应数据
    loadCourseManagementData(courseId);
}

function closeManageCourseModal() {
    document.getElementById('manageCourseModal').style.display = 'none';
}

function loadCourseManagementData(courseId) {
    // 模拟加载课程管理数据
    const courseData = {
        course1: {
            studentCount: '156',
            completionRate: '89%',
            revenue: '¥46,644',
            status: '已发布',
            createTime: '2024-05-15',
            updateTime: '2024-06-01',
            rating: '4.9★'
        },
        course2: {
            studentCount: '89',
            completionRate: '76%',
            revenue: '¥53,211',
            status: '已发布',
            createTime: '2024-04-20',
            updateTime: '2024-05-28',
            rating: '4.8★'
        }
    };

    const data = courseData[courseId] || courseData.course1;
    
    document.getElementById('courseStudentCount').textContent = data.studentCount;
    document.getElementById('courseCompletionRate').textContent = data.completionRate;
    document.getElementById('courseRevenue').textContent = data.revenue;
    document.getElementById('courseStatus').textContent = data.status;
    document.getElementById('courseCreateTime').textContent = data.createTime;
    document.getElementById('courseUpdateTime').textContent = data.updateTime;
    document.getElementById('courseRating').textContent = data.rating;
}

function viewCourseData(courseId) {
    document.getElementById('viewCourseDataModal').style.display = 'flex';
}

function closeViewCourseDataModal() {
    document.getElementById('viewCourseDataModal').style.display = 'none';
}

function exportCourseData() {
    const period = document.getElementById('dataAnalysisPeriod').value;
    const periodText = {
        'week': '本周',
        'month': '本月', 
        'quarter': '本季度',
        'year': '本年度'
    }[period];
    
    // 模拟导出
    const reportData = `课程数据分析报告 - ${periodText}\n\n` +
        `学习数据概览：\n` +
        `- 平均观看完成率：89%\n` +
        `- 平均学习时长：24分钟\n` +
        `- 回看率：15%\n` +
        `- 互动评论数：68\n\n` +
        `学员学习分析：\n` +
        `- 已完成：89人 (57%)\n` +
        `- 学习中：45人 (29%)\n` +
        `- 暂停学习：22人 (14%)\n\n` +
        `章节难度分析：\n` +
        `- 第1章基础理论：96%\n` +
        `- 第2章故障诊断：78%\n` +
        `- 第3章实操维修：64%\n`;
    
    const blob = new Blob([reportData], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `课程数据分析-${periodText}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    alert(`课程数据报告已导出！文件名：课程数据分析-${periodText}.txt`);
}

function previewCourse(courseId) {
    document.getElementById('previewCourseModal').style.display = 'flex';
    // 根据课程ID加载预览数据
    loadCoursePreviewData(courseId);
}

function closePreviewCourseModal() {
    document.getElementById('previewCourseModal').style.display = 'none';
}

function loadCoursePreviewData(courseId) {
    // 模拟课程预览数据
    const courseData = {
        course1: {
            title: '空压机维修技术入门',
            desc: '从零开始学习空压机维修技术，包含基础理论、常见故障诊断和维修实操'
        },
        course2: {
            title: 'PLC编程实战培训',
            desc: '通过实际项目案例学习PLC编程，掌握西门子S7-1200编程技巧'
        },
        course3: {
            title: '制冷设备维护实操',
            desc: '现场实操培训，学习制冷设备的日常维护、故障诊断和维修技术'
        }
    };

    const data = courseData[courseId] || courseData.course1;
    
    document.getElementById('previewCourseTitle').textContent = data.title;
    document.getElementById('previewCourseDesc').textContent = data.desc;
}

function editCourseDetails() {
    alert('编辑课程信息功能\n\n这里会打开课程信息编辑表单，包括：\n- 课程标题\n- 课程描述\n- 价格设置\n- 难度等级\n- 适用人群等');
    closeManageCourseModal();
}

function manageCourseContent() {
    alert('管理课程内容功能\n\n这里会打开课程内容管理界面，包括：\n- 章节管理\n- 视频上传\n- 资料添加\n- 作业设置等');
    closeManageCourseModal();
}

function courseSettings() {
    alert('课程设置功能\n\n这里会打开课程高级设置，包括：\n- 发布设置\n- 学员权限\n- 评论设置\n- 证书配置等');
    closeManageCourseModal();
}

function copyCourse() {
    if (confirm('确定要复制这个课程吗？\n\n复制后将创建一个内容相同的新课程，您可以在此基础上进行修改。')) {
        alert('课程复制成功！\n\n新课程已创建，课程名称为"[副本]原课程名称"，状态为草稿。');
        closeManageCourseModal();
    }
}

function publishCourse() {
    if (confirm('确定要发布这个课程吗？\n\n发布后学员就可以看到和购买这个课程了。')) {
        alert('课程发布成功！\n\n课程已成功发布，学员现在可以搜索到并购买您的课程。');
        closePreviewCourseModal();
    }
}

function showCreateCourseModal() {
    document.getElementById('createCourseModal').style.display = 'flex';
}

function closeCreateCourseModal() {
    document.getElementById('createCourseModal').style.display = 'none';
    document.getElementById('createCourseForm').reset();
    // 重置课程大纲到初始状态
    const container = document.getElementById('syllabusContainer');
    container.innerHTML = `
        <div class="syllabus-item" style="display: flex; gap: 10px; margin-bottom: 10px; align-items: center;">
            <input type="text" placeholder="第1课：课程标题" style="flex: 1; padding: 10px 12px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.95rem;">
            <input type="number" placeholder="时长(分钟)" style="width: 120px; padding: 10px 12px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.95rem;">
        </div>
    `;
}

function showLiveClassModal() {
    document.getElementById('liveClassModal').style.display = 'flex';
    // 设置默认日期为今天
    const dateInput = document.querySelector('#liveClassModal input[type="date"]');
    const today = new Date().toISOString().split('T')[0];
    dateInput.value = today;
}

function closeLiveClassModal() {
    document.getElementById('liveClassModal').style.display = 'none';
    document.getElementById('liveClassForm').reset();
    document.getElementById('paidOptions').style.display = 'none';
}

function addSyllabusItem() {
    const container = document.getElementById('syllabusContainer');
    const itemCount = container.children.length + 1;
    const newItem = document.createElement('div');
    newItem.className = 'syllabus-item';
    newItem.style.cssText = 'display: flex; gap: 10px; margin-bottom: 10px; align-items: center;';
    newItem.innerHTML = `
        <input type="text" placeholder="第${itemCount}课：课程标题" style="flex: 1; padding: 10px 12px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.95rem;">
        <input type="number" placeholder="时长(分钟)" style="width: 120px; padding: 10px 12px; border: 1px solid #e9ecef; border-radius: 6px; font-size: 0.95rem;">
        <button type="button" onclick="removeSyllabusItem(this)" style="padding: 8px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">
            <i class="fas fa-trash"></i>
        </button>
    `;
    container.appendChild(newItem);
}

function removeSyllabusItem(button) {
    button.parentElement.remove();
    // 重新编号
    const container = document.getElementById('syllabusContainer');
    Array.from(container.children).forEach((item, index) => {
        const input = item.querySelector('input[type="text"]');
        if (input && input.placeholder.includes('第')) {
            input.placeholder = `第${index + 1}课：课程标题`;
        }
    });
}

function exportTeachingData() {
    // 模拟数据导出
    const data = {
        timestamp: new Date().toISOString(),
        totalCourses: 18,
        totalStudents: 1256,
        totalRevenue: 15680,
        courses: [
            { name: '空压机维修技术入门', students: 156, revenue: 4500 },
            { name: 'PLC编程实战培训', students: 89, revenue: 5300 },
            { name: '制冷设备维护实操', students: 0, revenue: 0 }
        ]
    };
    
    const dataStr = JSON.stringify(data, null, 2);
    const dataBlob = new Blob([dataStr], { type: 'application/json' });
    const url = URL.createObjectURL(dataBlob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `教学数据_${new Date().toISOString().split('T')[0]}.json`;
    link.click();
    URL.revokeObjectURL(url);
    
    alert('教学数据已导出！');
}

// 教学报告相关函数
function showTeachingReport() {
    document.getElementById('teachingReportModal').style.display = 'flex';
}

function closeTeachingReportModal() {
    document.getElementById('teachingReportModal').style.display = 'none';
}

function exportReport() {
    const period = document.getElementById('reportPeriod').value;
    const periodText = {
        'week': '本周',
        'month': '本月', 
        'quarter': '本季度',
        'year': '本年度'
    }[period];
    
    // 模拟导出
    const reportData = `教学数据报告 - ${periodText}\n\n` +
        `数据概览：\n` +
        `- 总课程数：18门\n` +
        `- 总学员数：1,256人\n` +
        `- 总收益：¥15,680\n` +
        `- 平均评分：4.8分\n\n` +
        `课程表现TOP3：\n` +
        `1. 空压机维修技术入门 - 156人，89%完成率，4.9★\n` +
        `2. PLC编程实战培训 - 89人，76%完成率，4.8★\n` +
        `3. 锅炉运行与维护 - 68人，82%完成率，4.7★\n\n` +
        `改进建议：\n` +
        `- 优势保持：空压机维修和PLC编程课程表现优异\n` +
        `- 需要关注：制冷设备维护课程完成率偏低\n` +
        `- 发展机会：可考虑开设工业4.0相关课程`;
    
    const blob = new Blob([reportData], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `教学数据报告_${periodText}_${new Date().toISOString().split('T')[0]}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    alert(`${periodText}教学报告已导出！`);
}

function editCourse(courseId) {
    // 这里可以预填充课程数据到创建课程表单中
    showCreateCourseModal();
    
    // 模拟填充数据
    setTimeout(() => {
        const form = document.getElementById('createCourseForm');
        if (courseId === 'course1') {
            form.querySelector('input[placeholder="请输入课程名称"]').value = '空压机维修技术入门';
            form.querySelector('select').value = 'online';
            form.querySelector('textarea').value = '从零开始学习空压机维修技术，包含基础理论、常见故障诊断和维修实操。';
            form.querySelector('input[type="number"]').value = '299';
        }
        
        // 更改弹窗标题
        document.querySelector('#createCourseModal h3').textContent = '编辑课程';
        document.querySelector('#createCourseModal button[type="submit"]').textContent = '保存修改';
    }, 100);
}

function viewCourse(courseId) {
    previewCourse(courseId);
}

function manageStudents(courseId) {
    document.getElementById('studentsModal').style.display = 'flex';
    loadStudentData(courseId);
}

function closeStudentsModal() {
    document.getElementById('studentsModal').style.display = 'none';
}

function loadStudentData(courseId) {
    // 模拟学员数据
    const students = [
        { id: 1, name: '李明', avatar: '李', progress: 85, lastStudy: '2024-06-01 14:30', status: 'learning' },
        { id: 2, name: '王华', avatar: '王', progress: 60, lastStudy: '2024-05-30 16:20', status: 'learning' },
        { id: 3, name: '张伟', avatar: '张', progress: 100, lastStudy: '2024-05-28 10:15', status: 'completed' },
        { id: 4, name: '刘强', avatar: '刘', progress: 25, lastStudy: '2024-05-25 09:30', status: 'paused' }
    ];
    
    const tbody = document.getElementById('studentsTableBody');
    tbody.innerHTML = students.map(student => {
        const statusMap = {
            learning: { text: '学习中', class: 'success' },
            completed: { text: '已完成', class: 'primary' },
            paused: { text: '暂停学习', class: 'warning' }
        };
        
        const statusInfo = statusMap[student.status];
        const statusBg = statusInfo.class === 'success' ? '#d4edda' : statusInfo.class === 'primary' ? '#d1ecf1' : '#fff3cd';
        const statusColor = statusInfo.class === 'success' ? '#155724' : statusInfo.class === 'primary' ? '#0c5460' : '#856404';
        
        return `
            <tr style="border-bottom: 1px solid #f8f9fa;" onmouseover="this.style.background='#f5f7fa'" onmouseout="this.style.background='white'">
                <td style="padding: 12px 8px;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.9rem; font-weight: bold;">${student.avatar}</div>
                        <div>
                            <div style="font-weight: 500; color: #333;">${student.name}</div>
                            <div style="font-size: 0.8rem; color: #6c757d;">ID: ${student.id.toString().padStart(9, '20240100')}</div>
                        </div>
                    </div>
                </td>
                <td style="padding: 12px 8px;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="flex: 1; height: 6px; background: #f8f9fa; border-radius: 3px;">
                            <div style="width: ${student.progress}%; height: 100%; background: #28a745; border-radius: 3px;"></div>
                        </div>
                        <span style="font-size: 0.85rem; color: #6c757d; min-width: 40px;">${student.progress}%</span>
                    </div>
                </td>
                <td style="padding: 12px 8px;">
                    <span style="font-size: 0.85rem; color: #6c757d;">${student.lastStudy}</span>
                </td>
                <td style="padding: 12px 8px;">
                    <span style="padding: 3px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: 500; background: ${statusBg}; color: ${statusColor};">${statusInfo.text}</span>
                </td>
                <td style="padding: 12px 8px;">
                    <div style="display: flex; gap: 5px;">
                        <button onclick="viewStudentDetail(${student.id})" style="padding: 4px 8px; font-size: 0.8rem; border-radius: 4px; border: 1px solid #e0e3ea; background: white; color: #6c757d; cursor: pointer;">详情</button>
                        <button onclick="contactStudent(${student.id})" style="padding: 4px 8px; font-size: 0.8rem; border-radius: 4px; border: none; background: #667eea; color: white; cursor: pointer;">联系</button>
                    </div>
                </td>
            </tr>
        `;
    }).join('');
}

function viewStudentDetail(studentId) {
    alert(`查看学员详情：${studentId}\n\n这里会显示学员的详细学习记录、作业完成情况、考试成绩等信息。`);
}

function contactStudent(studentId) {
    alert(`联系学员：${studentId}\n\n这里会打开消息发送界面或显示学员联系方式。`);
}

function exportStudentData() {
    alert('学员数据已导出！\n\n导出内容包括：学员列表、学习进度、完成情况等详细数据。');
}

function deleteCourse(courseId) {
    if (confirm('确定要删除这个课程吗？删除后无法恢复，所有相关的学员数据也将被清除。')) {
        alert(`课程 ${courseId} 已删除！`);
        // 这里可以添加删除课程的逻辑
        // 例如：从页面中移除对应的课程卡片
    }
}

// 表单提交处理
document.getElementById('createCourseForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // 收集表单数据
    const formData = new FormData(this);
    const courseData = {
        name: formData.get('name'),
        type: formData.get('type'),
        description: formData.get('description'),
        price: formData.get('price'),
        hours: formData.get('hours'),
        level: formData.get('level'),
        audience: formData.getAll('audience'),
        syllabus: []
    };
    
    // 收集课程大纲
    const syllabusItems = document.querySelectorAll('.syllabus-item');
    syllabusItems.forEach(item => {
        const title = item.querySelector('input[type="text"]').value;
        const duration = item.querySelector('input[type="number"]').value;
        if (title && duration) {
            courseData.syllabus.push({ title, duration: parseInt(duration) });
        }
    });
    
    console.log('课程数据：', courseData);
    alert('课程创建成功！');
    closeCreateCourseModal();
});

document.getElementById('liveClassForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const liveData = {
        title: formData.get('title'),
        date: formData.get('date'),
        time: formData.get('time'),
        duration: formData.get('duration'),
        description: formData.get('description'),
        joinType: formData.get('joinType'),
        price: formData.get('price') || 0
    };
    
    console.log('直播数据：', liveData);
    alert('直播课程创建成功！');
    closeLiveClassModal();
});

// 付费选项切换
document.addEventListener('change', function(e) {
    if (e.target.name === 'joinType') {
        const paidOptions = document.getElementById('paidOptions');
        paidOptions.style.display = e.target.value === 'paid' ? 'block' : 'none';
    }
});
</script>
</div>
</body>
</html> 