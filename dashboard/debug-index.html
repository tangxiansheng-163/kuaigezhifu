<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>操作台 - 快哥智服平台</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .layout {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* 头部样式 */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0 32px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .logo i {
            color: #ffd700;
        }

        .space-switcher {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: 40px;
        }

        .space-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 8px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .space-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .space-btn.active {
            background: rgba(255,255,255,0.3);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .system-switcher-dropdown {
            display: flex;
            align-items: center;
            margin-left: 20px;
            position: relative;
            height: 60px;
        }
        .system-switcher-dropdown .space-btn {
            height: 38px;
            display: flex;
            align-items: center;
            background: rgba(255,255,255,0.1);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 18px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: background 0.3s;
            gap: 8px;
        }
        .system-switcher-dropdown .space-btn:hover,
        .system-switcher-dropdown .space-btn:focus {
            background: rgba(255,255,255,0.2);
        }
        .system-dropdown {
            display: none;
            position: absolute;
            top: 48px;
            left: 0;
            min-width: 180px;
            background: #fff;
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
            border-radius: 8px;
            z-index: 2000;
            padding: 8px 0;
            flex-direction: column;
        }
        .system-switcher-dropdown:hover .system-dropdown,
        .system-switcher-dropdown:focus-within .system-dropdown {
            display: flex;
        }
        .system-dropdown .dropdown-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            color: #495057;
            text-decoration: none;
            font-size: 0.98rem;
            transition: background 0.2s, color 0.2s;
            border: none;
            background: none;
        }
        .system-dropdown .dropdown-item:hover {
            background: #f0f4ff;
            color: #667eea;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            cursor: pointer;
        }

        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .user-dropdown {
            display: none;
            position: absolute;
            top: 45px;
            right: 0;
            min-width: 140px;
            background: #fff;
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
            border-radius: 8px;
            z-index: 1001;
            padding: 8px 0;
            flex-direction: column;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            color: #495057;
            text-decoration: none;
            font-size: 0.98rem;
            transition: background 0.2s, color 0.2s;
        }

        .dropdown-item:hover {
            background: #f0f4ff;
            color: #667eea;
        }

        .user-info:hover .user-dropdown {
            display: flex;
        }

        .header-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .header-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        /* 主体区域 */
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* 左侧菜单 */
        .sidebar {
            width: 250px;
            background: white;
            border-right: 1px solid #e9ecef;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
        }

        .menu-section {
            padding: 20px 0;
        }

        .menu-title {
            padding: 0 20px 10px;
            font-size: 0.8rem;
            color: #6c757d;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: #495057;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            border-left: 3px solid transparent;
        }

        .menu-item:hover {
            background: #f8f9fa;
            color: #667eea;
            border-left: 3px solid #667eea;
        }

        .menu-item.active {
            background: #667eea;
            color: white;
            border-left: 3px solid #667eea;
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        /* 主内容区域 */
        .content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background: #f5f7fa;
            transition: margin-left 0.3s cubic-bezier(.4,2,.6,1);
        }

        /* 页面内容宽度控制 */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* 调试信息面板 */
        .debug-panel {
            position: fixed;
            top: 70px;
            right: 20px;
            width: 300px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            padding: 15px;
            z-index: 1000;
            font-size: 0.85rem;
            display: none;
        }

        .debug-panel.show {
            display: block;
        }

        .debug-panel h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .debug-info {
            margin-bottom: 8px;
            padding: 6px 8px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 3px solid #3498db;
        }

        .debug-label {
            font-weight: 600;
            color: #2c3e50;
        }

        .debug-value {
            color: #6c757d;
            margin-left: 5px;
        }

        .debug-toggle {
            position: fixed;
            top: 70px;
            right: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            z-index: 1001;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .space-switcher {
                display: none;
            }
            
            .system-switcher-dropdown {
                display: none;
            }
            
            .sidebar {
                position: fixed;
                left: -250px;
                top: 60px;
                height: calc(100vh - 60px);
                z-index: 999;
                transition: left 0.3s;
            }

            .sidebar.open {
                left: 0;
            }

            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="layout">
        <!-- 头部 -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-cogs"></i>
                    <span>快哥智服</span>
                </div>
                <div class="space-switcher">
                    <button class="space-btn" onclick="location.href='../personal/index.html'">
                        <i class="fas fa-user"></i>
                        个人空间
                    </button>
                    <button class="space-btn" onclick="location.href='../enterprise/index.html'">
                        <i class="fas fa-building"></i>
                        企业空间
                    </button>
                    <button class="space-btn active" onclick="location.href='debug-index.html'">
                        <i class="fas fa-tachometer-alt"></i>
                        操作台
                    </button>
                </div>
                <div class="system-switcher-dropdown">
                    <button class="space-btn" id="systemSwitcherBtn">
                        <i class="fas fa-layer-group"></i>
                        <span id="currentSystem">产品设备远程监测</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="system-dropdown" id="systemDropdown">
                        <a href="#" class="dropdown-item" onclick="switchSystem('product')"><i class="fas fa-cube"></i> 产品设备远程监测</a>
                        <a href="#" class="dropdown-item" onclick="switchSystem('device')"><i class="fas fa-server"></i> 设备远程监测运维</a>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="user-info user-dropdown-trigger">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span>张三</span>
                    <div class="user-dropdown">
                        <a href="#" class="dropdown-item"><i class="fas fa-user-edit"></i> 个人资料</a>
                        <a href="#" class="dropdown-item"><i class="fas fa-key"></i> 密码重置</a>
                        <a href="#" class="dropdown-item"><i class="fas fa-shield-alt"></i> 安全设置</a>
                    </div>
                </div>
                <button class="header-btn">
                    <i class="fas fa-bell"></i>
                    消息
                </button>
                <button class="header-btn">
                    <i class="fas fa-cog"></i>
                    设置
                </button>
                <button class="header-btn" onclick="location.href='../index.html'">
                    <i class="fas fa-sign-out-alt"></i>
                    退出
                </button>
            </div>
        </header>

        <!-- 主体区域 -->
        <div class="main-container">
            <!-- 左侧菜单 -->
            <nav class="sidebar">
                <div class="menu-section">
                    <div class="menu-title">产品概览</div>
                    <div class="menu-item active" onclick="showPage('product-overview')">
                        <i class="fas fa-home"></i>
                        <span>产品概览</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">驾驶舱</div>
                    <div class="menu-item" onclick="showPage('comprehensive-dashboard')">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>综合看板</span>
                    </div>
                    <div class="menu-item" onclick="showPage('realtime-monitor-dashboard')">
                        <i class="fas fa-desktop"></i>
                        <span>产品设备实时监测看板</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">状态监测</div>
                    <div class="menu-item" onclick="showPage('start-stop-record')">
                        <i class="fas fa-play-circle"></i>
                        <span>启停记录</span>
                    </div>
                    <div class="menu-item" onclick="showPage('fault-analysis')">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>故障分析</span>
                    </div>
                    <div class="menu-item" onclick="showPage('device-events')">
                        <i class="fas fa-history"></i>
                        <span>设备事记</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">数据报表</div>
                    <div class="menu-item" onclick="showPage('device-monitoring')">
                        <i class="fas fa-chart-line"></i>
                        <span>设备监测</span>
                    </div>
                    <div class="menu-item" onclick="showPage('historical-trend')">
                        <i class="fas fa-chart-area"></i>
                        <span>历史趋势</span>
                    </div>
                    <div class="menu-item" onclick="showPage('downtime-analysis')">
                        <i class="fas fa-pause-circle"></i>
                        <span>停机分析</span>
                    </div>
                    <div class="menu-item" onclick="showPage('alarm-analysis')">
                        <i class="fas fa-bell"></i>
                        <span>告警分析</span>
                    </div>
                    <div class="menu-item" onclick="showPage('health-trend')">
                        <i class="fas fa-heartbeat"></i>
                        <span>健康趋势</span>
                    </div>
                    <div class="menu-item" onclick="showPage('monitoring-template')">
                        <i class="fas fa-file-alt"></i>
                        <span>监测模板</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">预警管理</div>
                    <div class="menu-item" onclick="showPage('warning-record')">
                        <i class="fas fa-bell"></i>
                        <span>预警记录</span>
                    </div>
                    <div class="menu-item" onclick="showPage('warning-config')">
                        <i class="fas fa-cog"></i>
                        <span>预警配置</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">保养指南</div>
                    <div class="menu-item" onclick="showPage('maintenance-guide-add')">
                        <i class="fas fa-plus"></i>
                        <span>添加指南</span>
                    </div>
                    <div class="menu-item" onclick="showPage('maintenance-guide-list')">
                        <i class="fas fa-list"></i>
                        <span>保养指南列表</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">巡检指南</div>
                    <div class="menu-item" onclick="showPage('inspection-guide-add')">
                        <i class="fas fa-plus"></i>
                        <span>添加指南</span>
                    </div>
                    <div class="menu-item" onclick="showPage('inspection-guide-list')">
                        <i class="fas fa-list"></i>
                        <span>巡检指南列表</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">售后工单</div>
                    <div class="menu-item" onclick="showPage('repair-order')">
                        <i class="fas fa-tools"></i>
                        <span>维修</span>
                    </div>
                    <div class="menu-item" onclick="showPage('install-order')">
                        <i class="fas fa-cog"></i>
                        <span>安装</span>
                    </div>
                    <div class="menu-item" onclick="showPage('debug-order')">
                        <i class="fas fa-sliders-h"></i>
                        <span>调试</span>
                    </div>
                    <div class="menu-item" onclick="showPage('return-order')">
                        <i class="fas fa-undo"></i>
                        <span>退货</span>
                    </div>
                    <div class="menu-item" onclick="showPage('exchange-order')">
                        <i class="fas fa-exchange-alt"></i>
                        <span>换货</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">工单流程</div>
                    <div class="menu-item" onclick="showPage('workflow-create')">
                        <i class="fas fa-plus"></i>
                        <span>创建流程</span>
                    </div>
                    <div class="menu-item" onclick="showPage('workflow-list')">
                        <i class="fas fa-list"></i>
                        <span>流程列表</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">产品系列</div>
                    <div class="menu-item" onclick="showPage('product-category')">
                        <i class="fas fa-tags"></i>
                        <span>产品分类</span>
                    </div>
                    <div class="menu-item" onclick="showPage('product-model')">
                        <i class="fas fa-cube"></i>
                        <span>产品型号</span>
                    </div>
                    <div class="menu-item" onclick="showPage('model-template')">
                        <i class="fas fa-file-alt"></i>
                        <span>型号模板</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">产品设备</div>
                    <div class="menu-item" onclick="showPage('product-device-add')">
                        <i class="fas fa-plus"></i>
                        <span>添加产品设备</span>
                    </div>
                    <div class="menu-item" onclick="showPage('product-device-list')">
                        <i class="fas fa-list"></i>
                        <span>产品设备</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">终端设备</div>
                    <div class="menu-item" onclick="showPage('terminal-category')">
                        <i class="fas fa-tags"></i>
                        <span>终端分类</span>
                    </div>
                    <div class="menu-item" onclick="showPage('terminal-list')">
                        <i class="fas fa-list"></i>
                        <span>终端列表</span>
                    </div>
                    <div class="menu-item" onclick="showPage('thing-model-config')">
                        <i class="fas fa-cog"></i>
                        <span>物模型配置</span>
                    </div>
                    <div class="menu-item" onclick="showPage('communication-protocol')">
                        <i class="fas fa-network-wired"></i>
                        <span>通讯协议</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">知识库管理</div>
                    <div class="menu-item" onclick="showPage('knowledge-category-manage')">
                        <i class="fas fa-tags"></i>
                        <span>分类管理</span>
                    </div>
                    <div class="menu-item" onclick="showPage('knowledge-category-list')">
                        <i class="fas fa-list"></i>
                        <span>分类列表</span>
                    </div>
                    <div class="menu-item" onclick="showPage('knowledge-document-list')">
                        <i class="fas fa-file-alt"></i>
                        <span>文档列表</span>
                    </div>
                </div>

                <div class="menu-section">
                    <div class="menu-title">客户管理</div>
                    <div class="menu-item" onclick="showPage('customer-add')">
                        <i class="fas fa-plus"></i>
                        <span>新增客户</span>
                    </div>
                    <div class="menu-item" onclick="showPage('customer-list')">
                        <i class="fas fa-list"></i>
                        <span>客户列表</span>
                    </div>
                </div>
            </nav>

            <!-- 主内容区域 -->
            <main class="content" id="main-content">
                <!-- 动态内容区域 -->
                <div class="main-content" id="page-product-overview" style="display:block">
                    <div class="content-header">
                        <h1 class="content-title">产品设备远程监测系统</h1>
                        <p class="content-subtitle">实时监控设备运行状态，全面掌控产品健康</p>
                    </div>

                    <!-- 核心数据概览 -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-server" style="font-size: 1.5rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2rem; font-weight: bold;">1,248</div>
                                    <div style="font-size: 0.9rem; opacity: 0.9;">设备总数</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>在线: 1,186</span>
                                <span>告警: 45</span>
                                <span>离线: 17</span>
                            </div>
                        </div>

                        <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-check-circle" style="font-size: 1.5rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2rem; font-weight: bold;">95.02%</div>
                                    <div style="font-size: 0.9rem; opacity: 0.9;">设备在线率</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>昨日: 94.8%</span>
                                <span>月平均: 94.5%</span>
                            </div>
                        </div>

                        <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-exclamation-triangle" style="font-size: 1.5rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2rem; font-weight: bold;">45</div>
                                    <div style="font-size: 0.9rem; opacity: 0.9;">告警设备</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>严重: 8</span>
                                <span>警告: 25</span>
                                <span>提示: 12</span>
                            </div>
                        </div>

                        <div style="background: linear-gradient(135deg, #17a2b8, #6f42c1); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(23, 162, 184, 0.3);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-heartbeat" style="font-size: 1.5rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2rem; font-weight: bold;">88.5</div>
                                    <div style="font-size: 0.9rem; opacity: 0.9;">设备健康度</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>优秀: 952</span>
                                <span>良好: 251</span>
                                <span>一般: 45</span>
                            </div>
                        </div>
                    </div>

                    <!-- 设备监控和分析 -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-bottom: 30px;">
                        <!-- 地理分布图 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-map" style="color: #667eea;"></i>
                                    设备地理分布
                                </h3>
                                <button onclick="viewFullMap()" style="padding: 6px 12px; background: #f8f9fa; color: #667eea; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">查看大图</button>
                            </div>
                            <div style="height: 280px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: center; justify-content: center; position: relative;">
                                <i class="fas fa-globe-asia" style="font-size: 4rem; color: #e9ecef;"></i>
                                <div style="position: absolute; top: 20px; left: 20px; background: white; padding: 10px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">华东地区</div>
                                    <div style="font-size: 1.2rem; font-weight: bold; color: #333;">568台</div>
                                </div>
                                <div style="position: absolute; top: 80px; right: 30px; background: white; padding: 10px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">华南地区</div>
                                    <div style="font-size: 1.2rem; font-weight: bold; color: #333;">425台</div>
                                </div>
                                <div style="position: absolute; bottom: 40px; left: 50px; background: white; padding: 10px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">华北地区</div>
                                    <div style="font-size: 1.2rem; font-weight: bold; color: #333;">255台</div>
                                </div>
                            </div>
                        </div>

                        <!-- 设备状态饼图 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-chart-pie" style="color: #28a745;"></i>
                                    设备状态分布
                                </h3>
                                <button onclick="viewDetailChart()" style="padding: 6px 12px; background: #f8f9fa; color: #28a745; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">详细分析</button>
                            </div>
                            <div style="height: 280px; display: flex; align-items: center; justify-content: space-between;">
                                <div style="width: 180px; height: 180px; border-radius: 50%; background: conic-gradient(from 0deg, #28a745 0deg 310deg, #ffc107 310deg 330deg, #dc3545 330deg 345deg, #6c757d 345deg 360deg); display: flex; align-items: center; justify-content: center;">
                                    <div style="width: 120px; height: 120px; background: white; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                        <div style="font-size: 1.5rem; font-weight: bold; color: #333;">1,248</div>
                                        <div style="font-size: 0.9rem; color: #666;">总设备</div>
                                    </div>
                                </div>
                                <div style="flex: 1; margin-left: 30px;">
                                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 6px;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: #28a745; border-radius: 2px;"></div>
                                            <span style="color: #333; font-size: 0.9rem;">正常运行</span>
                                        </div>
                                        <span style="color: #28a745; font-weight: 600;">1,186台</span>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 6px;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: #ffc107; border-radius: 2px;"></div>
                                            <span style="color: #333; font-size: 0.9rem;">告警状态</span>
                                        </div>
                                        <span style="color: #ffc107; font-weight: 600;">45台</span>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 6px;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: #dc3545; border-radius: 2px;"></div>
                                            <span style="color: #333; font-size: 0.9rem;">故障状态</span>
                                        </div>
                                        <span style="color: #dc3545; font-weight: 600;">12台</span>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px; background: #f8f9fa; border-radius: 6px;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: #6c757d; border-radius: 2px;"></div>
                                            <span style="color: #333; font-size: 0.9rem;">离线状态</span>
                                        </div>
                                        <span style="color: #6c757d; font-weight: 600;">5台</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 快捷操作和最新告警 -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-bottom: 30px;">
                        <!-- 快捷操作 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-bolt" style="color: #fd7e14;"></i>
                                    快捷操作
                                </h3>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                                <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, #ffe6e6, #fff0f0); border-radius: 8px; border: 1px solid #dc3545; cursor: pointer;" onclick="showPage('realtime-monitor-dashboard')">
                                    <div style="width: 40px; height: 40px; background: #dc3545; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; color: white;">
                                        <i class="fas fa-desktop" style="font-size: 1.2rem;"></i>
                                    </div>
                                    <div style="font-size: 0.9rem; color: #dc3545; font-weight: 600;">实时监控</div>
                                </div>
                                <div style="text-align: center; padding: 15px; background: linear-gradient(135deg, #e8f5e8, #f0fff0); border-radius: 8px; border: 1px solid #28a745; cursor: pointer;" onclick="showPage('device-monitoring')">
                                    <div style="width: 40px; height: 40px; background: #28a745; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; color: white;">
                                        <i class="fas fa-chart-line" style="font-size: 1.2rem;"></i>
                                    </div>
                                    <div style="font-size: 0.9rem; color: #28a745; font-weight: 600;">数据监测</div>
                                </div>
                            </div>
                            <div style="border-top: 1px solid #f0f0f0; padding-top: 15px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;" onclick="showPage('comprehensive-dashboard')" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='#f8f9fa'">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 36px; height: 36px; background: #667eea; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <i class="fas fa-tachometer-alt" style="color: white; font-size: 1rem;"></i>
                                        </div>
                                        <span style="color: #333; font-weight: 500; font-size: 0.95rem;">综合看板</span>
                                    </div>
                                    <i class="fas fa-chevron-right" style="color: #667eea;"></i>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;" onclick="showPage('product-category')" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='#f8f9fa'">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 36px; height: 36px; background: #28a745; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <i class="fas fa-sitemap" style="color: white; font-size: 1rem;"></i>
                                        </div>
                                        <span style="color: #333; font-weight: 500; font-size: 0.95rem;">产品分类</span>
                                    </div>
                                    <i class="fas fa-chevron-right" style="color: #28a745;"></i>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;" onclick="showPage('product-device-list')" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='#f8f9fa'">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 36px; height: 36px; background: #17a2b8; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <i class="fas fa-list" style="color: white; font-size: 1rem;"></i>
                                        </div>
                                        <span style="color: #333; font-weight: 500; font-size: 0.95rem;">设备列表</span>
                                    </div>
                                    <i class="fas fa-chevron-right" style="color: #17a2b8;"></i>
                                </div>
                            </div>
                        </div>

                        <!-- 最新告警 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-bell" style="color: #ffc107;"></i>
                                    最新告警
                                </h3>
                                <button onclick="viewAllAlerts()" style="padding: 6px 12px; background: #f8f9fa; color: #ffc107; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">查看全部</button>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #fff5f5; border-radius: 8px; border-left: 4px solid #dc3545;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <i class="fas fa-exclamation-circle" style="color: #dc3545; font-size: 1.2rem;"></i>
                                        <div>
                                            <div style="font-weight: 500; color: #333; font-size: 0.95rem;">设备温度异常</div>
                                            <div style="font-size: 0.85rem; color: #6c757d;">空压机 AC-001</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.85rem; color: #dc3545; font-weight: 500;">严重</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">5分钟前</div>
                                    </div>
                                </div>

                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #fff8e1; border-radius: 8px; border-left: 4px solid #ffc107;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <i class="fas fa-exclamation-triangle" style="color: #ffc107; font-size: 1.2rem;"></i>
                                        <div>
                                            <div style="font-weight: 500; color: #333; font-size: 0.95rem;">压力超限预警</div>
                                            <div style="font-size: 0.85rem; color: #6c757d;">注塑机 IM-012</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.85rem; color: #ffc107; font-weight: 500;">警告</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">12分钟前</div>
                                    </div>
                                </div>

                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #e8f4fd; border-radius: 8px; border-left: 4px solid #17a2b8;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <i class="fas fa-info-circle" style="color: #17a2b8; font-size: 1.2rem;"></i>
                                        <div>
                                            <div style="font-weight: 500; color: #333; font-size: 0.95rem;">设备维护提醒</div>
                                            <div style="font-size: 0.85rem; color: #6c757d;">冲床 PR-005</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.85rem; color: #17a2b8; font-weight: 500;">提示</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">25分钟前</div>
                                    </div>
                                </div>

                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #6c757d;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <i class="fas fa-power-off" style="color: #6c757d; font-size: 1.2rem;"></i>
                                        <div>
                                            <div style="font-weight: 500; color: #333; font-size: 0.95rem;">设备离线通知</div>
                                            <div style="font-size: 0.85rem; color: #6c757d;">焊接机 WD-008</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.85rem; color: #6c757d; font-weight: 500;">离线</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">1小时前</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 产品型号分布和运行趋势 -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-bottom: 30px;">
                        <!-- 产品型号分布 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-layer-group" style="color: #6f42c1;"></i>
                                    产品型号分布
                                </h3>
                                <select style="padding: 6px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; font-size: 0.85rem;">
                                    <option>全部产品线</option>
                                    <option>空压机系列</option>
                                    <option>注塑机系列</option>
                                    <option>冲床系列</option>
                                </select>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 6px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #667eea; border-radius: 50%;"></div>
                                        <span style="color: #333; font-size: 0.9rem;">空压机AC系列</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <span style="color: #667eea; font-weight: 600;">485台</span>
                                        <div style="width: 80px; height: 6px; background: #e9ecef; border-radius: 3px; overflow: hidden;">
                                            <div style="width: 70%; height: 100%; background: #667eea;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 6px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #28a745; border-radius: 50%;"></div>
                                        <span style="color: #333; font-size: 0.9rem;">注塑机IM系列</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <span style="color: #28a745; font-weight: 600;">356台</span>
                                        <div style="width: 80px; height: 6px; background: #e9ecef; border-radius: 3px; overflow: hidden;">
                                            <div style="width: 55%; height: 100%; background: #28a745;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 6px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #ffc107; border-radius: 50%;"></div>
                                        <span style="color: #333; font-size: 0.9rem;">冲床PR系列</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <span style="color: #ffc107; font-weight: 600;">247台</span>
                                        <div style="width: 80px; height: 6px; background: #e9ecef; border-radius: 3px; overflow: hidden;">
                                            <div style="width: 40%; height: 100%; background: #ffc107;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 6px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 8px; height: 8px; background: #17a2b8; border-radius: 50%;"></div>
                                        <span style="color: #333; font-size: 0.9rem;">焊接机WD系列</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <span style="color: #17a2b8; font-weight: 600;">160台</span>
                                        <div style="width: 80px; height: 6px; background: #e9ecef; border-radius: 3px; overflow: hidden;">
                                            <div style="width: 25%; height: 100%; background: #17a2b8;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 设备运行趋势 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-chart-area" style="color: #fd7e14;"></i>
                                    设备运行趋势
                                </h3>
                                <select style="padding: 6px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; font-size: 0.85rem;">
                                    <option>最近7天</option>
                                    <option>最近30天</option>
                                    <option>最近90天</option>
                                </select>
                            </div>
                            <div style="height: 220px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: end; justify-content: space-around; padding: 20px; position: relative;">
                                <!-- 模拟折线图 -->
                                <div style="display: flex; align-items: end; height: 100%; width: 100%; gap: 15px;">
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 80%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周一</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 65%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周二</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 90%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周三</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 75%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周四</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 95%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周五</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 60%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周六</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
                                        <div style="height: 70%; background: linear-gradient(to top, #667eea, #764ba2); width: 8px; border-radius: 4px; margin-bottom: 10px;"></div>
                                        <span style="font-size: 0.8rem; color: #666;">周日</span>
                                    </div>
                                </div>
                                <div style="position: absolute; top: 10px; right: 10px; background: white; padding: 8px 12px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                    <div style="font-size: 0.9rem; color: #666; margin-bottom: 3px;">平均在线率</div>
                                    <div style="font-size: 1.1rem; font-weight: bold; color: #667eea;">94.2%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 综合看板页面 -->
                <div class="main-content" id="page-comprehensive-dashboard" style="display:none">
                    <!-- 实时监控头部 -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div>
                            <h2 style="color: #333; margin: 0 0 8px 0; font-size: 1.4rem;">实时监控中心</h2>
                            <p style="color: #6c757d; margin: 0;">最后更新：<span id="lastUpdate"></span></p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <select style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333;">
                                <option>最近1小时</option>
                                <option>最近6小时</option>
                                <option>最近24小时</option>
                                <option>最近7天</option>
                            </select>
                            <button id="autoRefreshBtn" style="padding: 8px 16px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; display: flex; align-items: center; gap: 6px;">
                                <i class="fas fa-play"></i>
                                <span>自动刷新</span>
                            </button>
                            <button onclick="refreshData()" style="padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">
                                <i class="fas fa-sync-alt"></i>
                                刷新数据
                            </button>
                        </div>
                    </div>

                    <!-- 核心指标面板 -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); position: relative; overflow: hidden;">
                            <div style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; position: relative;">
                                <div style="width: 55px; height: 55px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-wifi" style="font-size: 1.6rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 5px;">95.02%</div>
                                    <div style="font-size: 1rem; opacity: 0.9;">设备在线率</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>在线: 1,186</span>
                                <span>离线: 62</span>
                            </div>
                            <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; opacity: 0.7;">
                                ↗ +2.1% 较昨日
                            </div>
                        </div>

                        <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3); position: relative; overflow: hidden;">
                            <div style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; position: relative;">
                                <div style="width: 55px; height: 55px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-heartbeat" style="font-size: 1.6rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 5px;">88.5</div>
                                    <div style="font-size: 1rem; opacity: 0.9;">设备健康度</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>优秀: 952</span>
                                <span>良好: 251</span>
                            </div>
                            <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; opacity: 0.7;">
                                ↗ +1.8% 较昨日
                            </div>
                        </div>

                        <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3); position: relative; overflow: hidden;">
                            <div style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; position: relative;">
                                <div style="width: 55px; height: 55px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-bell" style="font-size: 1.6rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 5px;">92.3%</div>
                                    <div style="font-size: 1rem; opacity: 0.9;">告警处理率</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>已处理: 1,847</span>
                                <span>待处理: 154</span>
                            </div>
                            <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; opacity: 0.7;">
                                ↗ +3.2% 较昨日
                            </div>
                        </div>

                        <div style="background: linear-gradient(135deg, #17a2b8, #6f42c1); color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(23, 162, 184, 0.3); position: relative; overflow: hidden;">
                            <div style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; position: relative;">
                                <div style="width: 55px; height: 55px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-clock" style="font-size: 1.6rem;"></i>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 5px;">156.7h</div>
                                    <div style="font-size: 1rem; opacity: 0.9;">平均运行时长</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; opacity: 0.9;">
                                <span>最长: 342h</span>
                                <span>最短: 8h</span>
                            </div>
                            <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; opacity: 0.7;">
                                ↗ +12.5h 较昨日
                            </div>
                        </div>
                    </div>

                    <!-- 实时运行状态监控 -->
                    <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: #333; margin: 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-chart-line" style="color: #667eea;"></i>
                                实时运行状态监控
                            </h3>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <select id="paramSelect" style="padding: 6px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; font-size: 0.9rem;">
                                    <option value="temperature">温度</option>
                                    <option value="pressure">压力</option>
                                    <option value="vibration">振动</option>
                                    <option value="power">功率</option>
                                </select>
                                <button onclick="toggleFullscreen()" style="padding: 6px 12px; background: #f8f9fa; color: #667eea; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                                    <i class="fas fa-expand"></i>
                                    全屏
                                </button>
                            </div>
                        </div>
                        <div style="height: 320px; background: #f8f9fa; border-radius: 8px; position: relative; padding: 20px;">
                            <!-- 模拟实时图表 -->
                            <div style="display: flex; align-items: end; height: 100%; width: 100%; gap: 8px;">
                                <div id="chart-container" style="display: flex; align-items: end; height: 100%; width: 100%; gap: 8px;">
                                    <!-- 动态生成的图表数据点 -->
                                </div>
                            </div>
                            <!-- 图表标签 -->
                            <div style="position: absolute; top: 20px; left: 20px; background: white; padding: 12px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">当前值</div>
                                <div style="font-size: 1.5rem; font-weight: bold; color: #333;" id="currentValue">75.2°C</div>
                                <div style="font-size: 0.8rem; color: #28a745; margin-top: 3px;">
                                    <i class="fas fa-arrow-up"></i>
                                    +2.1°C
                                </div>
                            </div>
                            <div style="position: absolute; top: 20px; right: 20px; background: white; padding: 12px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">预警阈值</div>
                                <div style="font-size: 1.2rem; font-weight: bold; color: #ffc107;" id="thresholdValue">85°C</div>
                            </div>
                        </div>
                    </div>

                    <!-- 设备状态分布 -->
                    <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-chart-pie" style="color: #28a745;"></i>
                                设备状态分布
                            </h3>
                            <span style="font-size: 0.85rem; color: #6c757d;">实时更新</span>
                        </div>
                        <div style="height: 280px; display: flex; align-items: center; justify-content: space-between;">
                            <div style="width: 160px; height: 160px; border-radius: 50%; background: conic-gradient(from 0deg, #28a745 0deg 300deg, #ffc107 300deg 330deg, #dc3545 330deg 350deg, #6c757d 350deg 360deg); display: flex; align-items: center; justify-content: center; position: relative;">
                                <div style="width: 100px; height: 100px; background: white; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                    <div style="font-size: 1.3rem; font-weight: bold; color: #333;">1,248</div>
                                    <div style="font-size: 0.8rem; color: #666;">总数</div>
                                </div>
                            </div>
                            <div style="flex: 1; margin-left: 30px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 16px; height: 16px; background: #28a745; border-radius: 4px;"></div>
                                        <span style="color: #333; font-size: 1rem;">正常运行</span>
                                    </div>
                                    <div style="text-align: right;">
                                        <span style="color: #28a745; font-weight: 600; font-size: 1.1rem;">1,123台</span>
                                        <div style="font-size: 0.8rem; color: #6c757d;">90.0%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding: 15px; background: #fff8e1; border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 16px; height: 16px; background: #ffc107; border-radius: 4px;"></div>
                                        <span style="color: #333; font-size: 1rem;">告警状态</span>
                                    </div>
                                    <div style="text-align: right;">
                                        <span style="color: #ffc107; font-weight: 600; font-size: 1.1rem;">83台</span>
                                        <div style="font-size: 0.8rem; color: #6c757d;">6.7%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding: 15px; background: #fff5f5; border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 16px; height: 16px; background: #dc3545; border-radius: 4px;"></div>
                                        <span style="color: #333; font-size: 1rem;">故障状态</span>
                                    </div>
                                    <div style="text-align: right;">
                                        <span style="color: #dc3545; font-weight: 600; font-size: 1.1rem;">25台</span>
                                        <div style="font-size: 0.8rem; color: #6c757d;">2.0%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 16px; height: 16px; background: #6c757d; border-radius: 4px;"></div>
                                        <span style="color: #333; font-size: 1rem;">离线状态</span>
                                    </div>
                                    <div style="text-align: right;">
                                        <span style="color: #6c757d; font-weight: 600; font-size: 1.1rem;">17台</span>
                                        <div style="font-size: 0.8rem; color: #6c757d;">1.4%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 实时监测看板页面 -->
                <div class="main-content" id="page-realtime-monitor-dashboard" style="display:none">
                    <!-- 监控头部 -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div>
                            <h2 style="color: #333; margin: 0 0 8px 0; font-size: 1.4rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-desktop" style="color: #667eea;"></i>
                                产品设备实时监测看板
                            </h2>
                            <p style="color: #6c757d; margin: 0;">实时监控所有在线设备的运行参数和状态</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <select style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333;">
                                <option value="all">全部设备</option>
                                <option value="online">在线设备</option>
                                <option value="warning">告警设备</option>
                                <option value="offline">离线设备</option>
                            </select>
                            <button style="padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">
                                <i class="fas fa-expand"></i>
                                全屏显示
                            </button>
                        </div>
                    </div>

                    <!-- 实时状态概览 -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 10px;"><i class="fas fa-check-circle"></i></div>
                            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 5px;">1,186</div>
                            <div style="font-size: 1rem; opacity: 0.9;">在线设备</div>
                            <div style="font-size: 0.9rem; margin-top: 5px;">95.0%</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 10px;"><i class="fas fa-exclamation-triangle"></i></div>
                            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 5px;">45</div>
                            <div style="font-size: 1rem; opacity: 0.9;">告警设备</div>
                            <div style="font-size: 0.9rem; margin-top: 5px;">3.6%</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 10px;"><i class="fas fa-times-circle"></i></div>
                            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 5px;">17</div>
                            <div style="font-size: 1rem; opacity: 0.9;">离线设备</div>
                            <div style="font-size: 0.9rem; margin-top: 5px;">1.4%</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #6c757d, #495057); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 10px;"><i class="fas fa-tools"></i></div>
                            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 5px;">8</div>
                            <div style="font-size: 1rem; opacity: 0.9;">维护中</div>
                            <div style="font-size: 0.9rem; margin-top: 5px;">0.6%</div>
                        </div>
                    </div>

                    <!-- 关键参数实时监控 -->
                    <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: #333; margin: 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-chart-line" style="color: #667eea;"></i>
                                关键参数实时监控
                            </h3>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <button style="padding: 6px 12px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">温度</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">压力</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">振动</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">功率</button>
                            </div>
                        </div>
                        <div style="height: 300px; background: #f8f9fa; border-radius: 8px; position: relative; padding: 20px;">
                            <!-- 模拟实时图表 -->
                            <div style="display: flex; align-items: end; height: 100%; width: 100%; gap: 6px;">
                                <div style="flex: 1; height: 75%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 82%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 68%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 90%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 85%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 73%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 88%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 92%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 78%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 86%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 80%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                                <div style="flex: 1; height: 95%; background: linear-gradient(to top, #667eea, #764ba2); border-radius: 3px;"></div>
                            </div>
                            <!-- 当前值显示 -->
                            <div style="position: absolute; top: 20px; left: 20px; background: white; padding: 12px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <div style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">当前温度</div>
                                <div style="font-size: 1.5rem; font-weight: bold; color: #333;">72.3°C</div>
                                <div style="font-size: 0.8rem; color: #28a745; margin-top: 3px;">
                                    <i class="fas fa-arrow-up"></i> +1.2°C
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 设备状态监控和告警信息 -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-bottom: 30px;">
                        <!-- 设备状态监控 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-server" style="color: #28a745;"></i>
                                    设备状态监控
                                </h3>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                                <div style="padding: 15px; background: #e8f5e8; border-radius: 8px; border-left: 4px solid #28a745;">
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-001</div>
                                    <div style="font-size: 0.9rem; color: #28a745; margin-bottom: 8px;">运行中</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">
                                        <div>温度: 42°C</div>
                                        <div>压力: 2.1MPa</div>
                                    </div>
                                    <div style="font-size: 0.8rem; color: #6c757d; margin-top: 5px;">上海工厂</div>
                                </div>
                                <div style="padding: 15px; background: #fff8e1; border-radius: 8px; border-left: 4px solid #ffc107;">
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-002</div>
                                    <div style="font-size: 0.9rem; color: #ffc107; margin-bottom: 8px;">告警</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">
                                        <div>温度: 58°C</div>
                                        <div>压力: 2.8MPa</div>
                                    </div>
                                    <div style="font-size: 0.8rem; color: #6c757d; margin-top: 5px;">北京工厂</div>
                                </div>
                                <div style="padding: 15px; background: #e8f5e8; border-radius: 8px; border-left: 4px solid #28a745;">
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-003</div>
                                    <div style="font-size: 0.9rem; color: #28a745; margin-bottom: 8px;">运行中</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">
                                        <div>温度: 45°C</div>
                                        <div>压力: 2.3MPa</div>
                                    </div>
                                    <div style="font-size: 0.8rem; color: #6c757d; margin-top: 5px;">广州工厂</div>
                                </div>
                                <div style="padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #6c757d;">
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-004</div>
                                    <div style="font-size: 0.9rem; color: #6c757d; margin-bottom: 8px;">离线</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">
                                        <div>温度: --</div>
                                        <div>压力: --</div>
                                    </div>
                                    <div style="font-size: 0.8rem; color: #6c757d; margin-top: 5px;">深圳工厂</div>
                                </div>
                            </div>
                        </div>

                        <!-- 实时告警信息 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-bell" style="color: #ffc107;"></i>
                                    实时告警信息
                                </h3>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #dc3545; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">清除已读</button>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div style="padding: 15px; background: #fff5f5; border-radius: 8px; border-left: 4px solid #dc3545;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                        <div style="font-size: 0.85rem; color: #6c757d;">14:23:45</div>
                                        <span style="background: #dc3545; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.75rem;">严重</span>
                                    </div>
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-2024-001</div>
                                    <div style="font-size: 0.9rem; color: #666;">高温告警：温度超过安全阈值</div>
                                </div>
                                <div style="padding: 15px; background: #fff8e1; border-radius: 8px; border-left: 4px solid #ffc107;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                        <div style="font-size: 0.85rem; color: #6c757d;">14:20:12</div>
                                        <span style="background: #ffc107; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.75rem;">中等</span>
                                    </div>
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-2024-015</div>
                                    <div style="font-size: 0.9rem; color: #666;">振动异常：检测到异常振动</div>
                                </div>
                                <div style="padding: 15px; background: #e8f4fd; border-radius: 8px; border-left: 4px solid #17a2b8;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                        <div style="font-size: 0.85rem; color: #6c757d;">14:18:33</div>
                                        <span style="background: #17a2b8; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.75rem;">提醒</span>
                                    </div>
                                    <div style="font-weight: bold; color: #333; margin-bottom: 5px;">KG-2024-023</div>
                                    <div style="font-size: 0.9rem; color: #666;">运行时间提醒：连续运行12小时</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 设备监测页面 -->
                <div class="main-content" id="page-device-monitoring" style="display:none">
                    <!-- 设备选择和控制 -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div>
                            <h2 style="color: #333; margin: 0 0 8px 0; font-size: 1.4rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-chart-line" style="color: #667eea;"></i>
                                设备监测
                            </h2>
                            <p style="color: #6c757d; margin: 0;">实时监测设备运行参数变化</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <select style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333;">
                                <option>KG-001 空压机</option>
                                <option>KG-002 注塑机</option>
                                <option>KG-003 冲床</option>
                            </select>
                            <select style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333;">
                                <option>最近1小时</option>
                                <option>最近6小时</option>
                                <option>最近24小时</option>
                            </select>
                        </div>
                    </div>

                    <!-- 监测图表 -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-bottom: 30px;">
                        <!-- 温度监测 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-thermometer-half" style="color: #dc3545;"></i>
                                    温度监测
                                </h3>
                                <div style="text-align: right;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #dc3545;">72.3°C</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">当前值</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 0.9rem;">
                                <span style="color: #28a745;">正常: 20-80°C</span>
                                <span style="color: #ffc107;">告警: 85°C</span>
                            </div>
                            <div style="height: 100px; background: #f8f9fa; border-radius: 6px; display: flex; align-items: end; padding: 10px; gap: 4px;">
                                <div style="flex: 1; height: 65%; background: linear-gradient(to top, #dc3545, #ff6b7a); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 72%; background: linear-gradient(to top, #dc3545, #ff6b7a); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 68%; background: linear-gradient(to top, #dc3545, #ff6b7a); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 75%; background: linear-gradient(to top, #dc3545, #ff6b7a); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 80%; background: linear-gradient(to top, #dc3545, #ff6b7a); border-radius: 2px;"></div>
                            </div>
                        </div>

                        <!-- 压力监测 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-tachometer-alt" style="color: #17a2b8;"></i>
                                    压力监测
                                </h3>
                                <div style="text-align: right;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #17a2b8;">2.1MPa</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">当前值</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 0.9rem;">
                                <span style="color: #28a745;">正常: 1.5-3.0MPa</span>
                                <span style="color: #ffc107;">告警: 3.5MPa</span>
                            </div>
                            <div style="height: 100px; background: #f8f9fa; border-radius: 6px; display: flex; align-items: end; padding: 10px; gap: 4px;">
                                <div style="flex: 1; height: 55%; background: linear-gradient(to top, #17a2b8, #5bc2d7); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 62%; background: linear-gradient(to top, #17a2b8, #5bc2d7); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 58%; background: linear-gradient(to top, #17a2b8, #5bc2d7); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 65%; background: linear-gradient(to top, #17a2b8, #5bc2d7); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 70%; background: linear-gradient(to top, #17a2b8, #5bc2d7); border-radius: 2px;"></div>
                            </div>
                        </div>

                        <!-- 振动监测 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-wave-square" style="color: #ffc107;"></i>
                                    振动监测
                                </h3>
                                <div style="text-align: right;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #ffc107;">4.2mm/s</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">当前值</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 0.9rem;">
                                <span style="color: #28a745;">正常: 0-8mm/s</span>
                                <span style="color: #ffc107;">告警: 10mm/s</span>
                            </div>
                            <div style="height: 100px; background: #f8f9fa; border-radius: 6px; display: flex; align-items: end; padding: 10px; gap: 4px;">
                                <div style="flex: 1; height: 35%; background: linear-gradient(to top, #ffc107, #ffed4e); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 42%; background: linear-gradient(to top, #ffc107, #ffed4e); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 38%; background: linear-gradient(to top, #ffc107, #ffed4e); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 45%; background: linear-gradient(to top, #ffc107, #ffed4e); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 52%; background: linear-gradient(to top, #ffc107, #ffed4e); border-radius: 2px;"></div>
                            </div>
                        </div>

                        <!-- 功率监测 -->
                        <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="color: #333; margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-bolt" style="color: #28a745;"></i>
                                    功率监测
                                </h3>
                                <div style="text-align: right;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;">15.6kW</div>
                                    <div style="font-size: 0.8rem; color: #6c757d;">当前值</div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 0.9rem;">
                                <span style="color: #28a745;">正常: 10-25kW</span>
                                <span style="color: #ffc107;">告警: 30kW</span>
                            </div>
                            <div style="height: 100px; background: #f8f9fa; border-radius: 6px; display: flex; align-items: end; padding: 10px; gap: 4px;">
                                <div style="flex: 1; height: 48%; background: linear-gradient(to top, #28a745, #5cb85c); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 55%; background: linear-gradient(to top, #28a745, #5cb85c); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 52%; background: linear-gradient(to top, #28a745, #5cb85c); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 60%; background: linear-gradient(to top, #28a745, #5cb85c); border-radius: 2px;"></div>
                                <div style="flex: 1; height: 62%; background: linear-gradient(to top, #28a745, #5cb85c); border-radius: 2px;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 产品分类页面 -->
                <div class="main-content" id="page-product-category" style="display:none">
                    <!-- 产品分类管理头部 -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div>
                            <h2 style="color: #333; margin: 0 0 8px 0; font-size: 1.4rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-sitemap" style="color: #667eea;"></i>
                                产品分类管理
                            </h2>
                            <p style="color: #6c757d; margin: 0;">管理产品分类层级结构</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <input type="text" placeholder="搜索分类..." style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; width: 200px;">
                            <button style="padding: 8px 16px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">
                                <i class="fas fa-plus"></i>
                                新增分类
                            </button>
                        </div>
                    </div>

                    <!-- 分类统计 -->
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-layer-group"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">12</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">一级分类</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-stream"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">45</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">二级分类</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-cubes"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">128</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">产品型号</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #17a2b8, #6f42c1); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-server"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">1,248</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">设备总数</div>
                        </div>
                    </div>

                    <!-- 分类树形结构 -->
                    <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-sitemap" style="color: #28a745;"></i>
                                分类结构
                            </h3>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">全部展开</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">全部收起</button>
                            </div>
                        </div>
                        
                        <!-- 分类树 -->
                        <div style="font-family: 'Courier New', monospace; font-size: 0.9rem; line-height: 1.8;">
                            <div style="padding: 8px 0; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-minus-square" style="color: #6c757d; cursor: pointer;"></i>
                                    <i class="fas fa-folder-open" style="color: #ffc107;"></i>
                                    <span style="font-weight: 600;">压缩设备</span>
                                    <span style="background: #e9ecef; color: #6c757d; padding: 2px 8px; border-radius: 10px; font-size: 0.75rem;">4个子类</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">485台设备</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>
                            <div style="padding: 8px 0 8px 32px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-file" style="color: #6c757d;"></i>
                                    <i class="fas fa-cog" style="color: #17a2b8;"></i>
                                    <span>空压机</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">285台</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>
                            <div style="padding: 8px 0 8px 32px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-file" style="color: #6c757d;"></i>
                                    <i class="fas fa-wind" style="color: #17a2b8;"></i>
                                    <span>鼓风机</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">125台</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>
                            
                            <div style="padding: 8px 0; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-minus-square" style="color: #6c757d; cursor: pointer;"></i>
                                    <i class="fas fa-folder-open" style="color: #ffc107;"></i>
                                    <span style="font-weight: 600;">注塑设备</span>
                                    <span style="background: #e9ecef; color: #6c757d; padding: 2px 8px; border-radius: 10px; font-size: 0.75rem;">3个子类</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">356台设备</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>
                            <div style="padding: 8px 0 8px 32px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-file" style="color: #6c757d;"></i>
                                    <i class="fas fa-industry" style="color: #dc3545;"></i>
                                    <span>立式注塑机</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">198台</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>
                            <div style="padding: 8px 0 8px 32px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-file" style="color: #6c757d;"></i>
                                    <i class="fas fa-industry" style="color: #dc3545;"></i>
                                    <span>卧式注塑机</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">158台</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>

                            <div style="padding: 8px 0; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-plus-square" style="color: #6c757d; cursor: pointer;"></i>
                                    <i class="fas fa-folder" style="color: #ffc107;"></i>
                                    <span style="font-weight: 600;">冲压设备</span>
                                    <span style="background: #e9ecef; color: #6c757d; padding: 2px 8px; border-radius: 10px; font-size: 0.75rem;">2个子类</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span style="color: #28a745; font-size: 0.8rem;">247台设备</span>
                                    <button style="padding: 4px 8px; background: none; border: 1px solid #e9ecef; border-radius: 4px; color: #6c757d; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 产品设备列表页面 -->
                <div class="main-content" id="page-product-device-list" style="display:none">
                    <!-- 设备列表头部 -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div>
                            <h2 style="color: #333; margin: 0 0 8px 0; font-size: 1.4rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-list" style="color: #667eea;"></i>
                                产品设备列表
                            </h2>
                            <p style="color: #6c757d; margin: 0;">管理所有产品设备信息</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <input type="text" placeholder="搜索设备..." style="padding: 8px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; width: 200px;">
                            <button style="padding: 8px 16px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">
                                <i class="fas fa-plus"></i>
                                新增设备
                            </button>
                        </div>
                    </div>

                    <!-- 设备统计卡片 -->
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-server"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">1,248</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">设备总数</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-check-circle"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">1,186</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">在线设备</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-exclamation-triangle"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">45</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">告警设备</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                            <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-times-circle"></i></div>
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 5px;">17</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">离线设备</div>
                        </div>
                    </div>

                    <!-- 设备列表表格 -->
                    <div style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-table" style="color: #17a2b8;"></i>
                                设备信息列表
                            </h3>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <select style="padding: 6px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; font-size: 0.9rem;">
                                    <option>全部状态</option>
                                    <option>在线</option>
                                    <option>告警</option>
                                    <option>离线</option>
                                </select>
                                <select style="padding: 6px 12px; border: 1px solid #e9ecef; border-radius: 6px; background: white; color: #333; font-size: 0.9rem;">
                                    <option>全部分类</option>
                                    <option>压缩设备</option>
                                    <option>注塑设备</option>
                                    <option>冲压设备</option>
                                </select>
                                <button style="padding: 6px 12px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                                    <i class="fas fa-download"></i>
                                    导出
                                </button>
                            </div>
                        </div>
                        
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                                <thead>
                                    <tr style="background: #f8f9fa; border-bottom: 2px solid #e9ecef;">
                                        <th style="padding: 12px; text-align: left; color: #495057;">设备编号</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">设备名称</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">分类</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">客户</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">位置</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">状态</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">最后更新</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="border-bottom: 1px solid #f0f0f0;">
                                        <td style="padding: 12px; color: #333; font-weight: 600;">KG-2024-001</td>
                                        <td style="padding: 12px; color: #333;">AC系列空压机</td>
                                        <td style="padding: 12px; color: #6c757d;">压缩设备</td>
                                        <td style="padding: 12px; color: #6c757d;">上海制造有限公司</td>
                                        <td style="padding: 12px; color: #6c757d;">上海市浦东新区</td>
                                        <td style="padding: 12px;"><span style="background: #d4edda; color: #155724; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">在线</span></td>
                                        <td style="padding: 12px; color: #6c757d;">2分钟前</td>
                                        <td style="padding: 12px;">
                                            <button style="padding: 4px 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem; margin-right: 5px;">查看</button>
                                            <button style="padding: 4px 8px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #f0f0f0;">
                                        <td style="padding: 12px; color: #333; font-weight: 600;">KG-2024-002</td>
                                        <td style="padding: 12px; color: #333;">IM系列注塑机</td>
                                        <td style="padding: 12px; color: #6c757d;">注塑设备</td>
                                        <td style="padding: 12px; color: #6c757d;">北京工业集团</td>
                                        <td style="padding: 12px; color: #6c757d;">北京市朝阳区</td>
                                        <td style="padding: 12px;"><span style="background: #fff3cd; color: #856404; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">告警</span></td>
                                        <td style="padding: 12px; color: #6c757d;">5分钟前</td>
                                        <td style="padding: 12px;">
                                            <button style="padding: 4px 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem; margin-right: 5px;">查看</button>
                                            <button style="padding: 4px 8px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #f0f0f0;">
                                        <td style="padding: 12px; color: #333; font-weight: 600;">KG-2024-003</td>
                                        <td style="padding: 12px; color: #333;">PR系列冲床</td>
                                        <td style="padding: 12px; color: #6c757d;">冲压设备</td>
                                        <td style="padding: 12px; color: #6c757d;">广州精密制造</td>
                                        <td style="padding: 12px; color: #6c757d;">广州市天河区</td>
                                        <td style="padding: 12px;"><span style="background: #d4edda; color: #155724; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">在线</span></td>
                                        <td style="padding: 12px; color: #6c757d;">1分钟前</td>
                                        <td style="padding: 12px;">
                                            <button style="padding: 4px 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem; margin-right: 5px;">查看</button>
                                            <button style="padding: 4px 8px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #f0f0f0;">
                                        <td style="padding: 12px; color: #333; font-weight: 600;">KG-2024-004</td>
                                        <td style="padding: 12px; color: #333;">WD系列焊接机</td>
                                        <td style="padding: 12px; color: #6c757d;">焊接设备</td>
                                        <td style="padding: 12px; color: #6c757d;">深圳科技公司</td>
                                        <td style="padding: 12px; color: #6c757d;">深圳市南山区</td>
                                        <td style="padding: 12px;"><span style="background: #f8d7da; color: #721c24; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">离线</span></td>
                                        <td style="padding: 12px; color: #6c757d;">1小时前</td>
                                        <td style="padding: 12px;">
                                            <button style="padding: 4px 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem; margin-right: 5px;">查看</button>
                                            <button style="padding: 4px 8px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.75rem;">编辑</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页 -->
                        <div style="display: flex; justify-content: between; align-items: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #f0f0f0;">
                            <div style="color: #6c757d; font-size: 0.9rem;">显示 1-10 条，共 1,248 条记录</div>
                            <div style="display: flex; align-items: center; gap: 5px;">
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 4px; cursor: pointer; font-size: 0.85rem;">上一页</button>
                                <button style="padding: 6px 12px; background: #667eea; color: white; border: 1px solid #667eea; border-radius: 4px; cursor: pointer; font-size: 0.85rem;">1</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 4px; cursor: pointer; font-size: 0.85rem;">2</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 4px; cursor: pointer; font-size: 0.85rem;">3</button>
                                <button style="padding: 6px 12px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 4px; cursor: pointer; font-size: 0.85rem;">下一页</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 启停记录页面 -->
                <div class="main-content" id="page-start-stop-record" style="display:none">
                    <!-- 页面头部 -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div>
                            <h2 style="color: #333; margin: 0 0 8px 0; font-size: 1.4rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-balance-scale" style="color: #667eea;"></i>
                                设备对比分析
                            </h2>
                            <p style="color: #6c757d; margin: 0;">对比同客户多台设备 & 同型号不同客户设备的使用差异</p>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button style="padding: 8px 16px; background: #17a2b8; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;" onclick="exportComparisonData()">
                                <i class="fas fa-download"></i>
                                导出对比
                            </button>
                            <button style="padding: 8px 16px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;" onclick="refreshComparisonData()">
                                <i class="fas fa-sync"></i>
                                刷新数据
                            </button>
                        </div>
                    </div>



                    <!-- 对比分析工具栏 -->
                    <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <div>
                                <h3 style="color: #333; margin: 0 0 5px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-balance-scale" style="color: #667eea;"></i>
                                    设备对比分析
                                </h3>
                                <p style="color: #6c757d; margin: 0; font-size: 0.9rem;">快速比较设备性能差异，发现优化机会</p>
                            </div>
                            <div style="display: flex; gap: 12px;">
                                <button style="padding: 8px 16px; background: #f8f9fa; color: #6c757d; border: 1px solid #e9ecef; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">
                                    <i class="fas fa-download"></i> 导出报告
                                </button>
                                <button style="padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">
                                    <i class="fas fa-sync"></i> 刷新数据
                                </button>
                            </div>
                        </div>
                        
                        <!-- 快速对比选项 -->
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div style="border: 2px solid #e9ecef; border-radius: 10px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="startComparison('customer')" onmouseover="this.style.borderColor='#667eea'; this.style.backgroundColor='#f8f9ff';" onmouseout="this.style.borderColor='#e9ecef'; this.style.backgroundColor='white';">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                                    <i class="fas fa-building" style="color: #667eea; font-size: 1.2rem;"></i>
                                    <h4 style="margin: 0; color: #333; font-size: 1rem;">按客户对比</h4>
                                </div>
                                <p style="margin: 0; color: #6c757d; font-size: 0.85rem;">比较同一客户的多台设备表现</p>
                            </div>
                            
                            <div style="border: 2px solid #e9ecef; border-radius: 10px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="startComparison('model')" onmouseover="this.style.borderColor='#28a745'; this.style.backgroundColor='#f8fff9';" onmouseout="this.style.borderColor='#e9ecef'; this.style.backgroundColor='white';">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                                    <i class="fas fa-cogs" style="color: #28a745; font-size: 1.2rem;"></i>
                                    <h4 style="margin: 0; color: #333; font-size: 1rem;">按型号对比</h4>
                                </div>
                                <p style="margin: 0; color: #6c757d; font-size: 0.85rem;">对比相同型号在不同环境的表现</p>
                            </div>
                            
                            <div style="border: 2px solid #e9ecef; border-radius: 10px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="startComparison('custom')" onmouseover="this.style.borderColor='#ffc107'; this.style.backgroundColor='#fffcf5';" onmouseout="this.style.borderColor='#e9ecef'; this.style.backgroundColor='white';">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                                    <i class="fas fa-sliders-h" style="color: #ffc107; font-size: 1.2rem;"></i>
                                    <h4 style="margin: 0; color: #333; font-size: 1rem;">自定义对比</h4>
                                </div>
                                <p style="margin: 0; color: #6c757d; font-size: 0.85rem;">自由选择设备进行多维度对比</p>
                            </div>
                        </div>
                    </div>

                    <!-- 对比结果展示区 -->
                    <div id="comparisonResults" style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 25px;">
                        <div style="text-align: center; color: #6c757d; padding: 40px 20px;">
                            <i class="fas fa-chart-bar" style="font-size: 3rem; opacity: 0.3; margin-bottom: 15px; color: #667eea;"></i>
                            <h3 style="margin: 0 0 10px 0; color: #495057; font-size: 1.3rem;">选择对比方式开始分析</h3>
                            <p style="margin: 0; font-size: 0.95rem; line-height: 1.5;">
                                点击上方任一对比方式，我们将为您生成详细的设备性能对比分析<br>
                                <span style="color: #28a745; font-weight: 500;">帮助您发现设备使用差异，优化运营策略</span>
                            </p>
                        </div>
                    </div>



                    <!-- 启停记录表格 -->
                    <div id="recordsTable" style="background: white; border-radius: 12px; padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="color: #333; margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-table" style="color: #6f42c1;"></i>
                                启停记录详情
                            </h3>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span id="recordsCount" style="color: #6c757d; font-size: 0.9rem;">共 0 条记录</span>
                            </div>
                        </div>
                        
                        <div style="overflow-x: auto;">
                            <table id="mainRecordsTable" style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                                <thead>
                                    <tr style="background: #f8f9fa; border-bottom: 2px solid #e9ecef;">
                                        <th style="padding: 12px; text-align: left; color: #495057;">设备编号</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">设备名称</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">设备位置</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">操作类型</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">操作时间</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">操作原因</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">运行时长</th>
                                        <th style="padding: 12px; text-align: left; color: #495057;">当前状态</th>
                                    </tr>
                                </thead>
                                <tbody id="recordsTableBody">
                                    <!-- 表格内容将通过JavaScript动态生成 -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页 -->
                        <div style="display: flex; justify-content: center; align-items: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #f0f0f0;" id="paginationContainer">
                            <!-- 分页将通过JavaScript动态生成 -->
                        </div>
                    </div>


                </div>

                <div class="main-content" id="page-fault-analysis" style="display:none">
                    <div class="content-header">
                        <h1 class="content-title">故障分析</h1>
                        <p class="content-subtitle">设备故障分析报告</p>
                    </div>
                    <div style="text-align: center; padding: 100px; color: #6c757d;">
                        <i class="fas fa-search" style="font-size: 4rem; margin-bottom: 20px;"></i>
                        <h3>故障分析</h3>
                        <p>页面内容正在开发中...</p>
                    </div>
                </div>

                <div class="main-content" id="page-device-events" style="display:none">
                    <div class="content-header">
                        <h1 class="content-title">设备事记</h1>
                        <p class="content-subtitle">设备事件记录</p>
                    </div>
                    <div style="text-align: center; padding: 100px; color: #6c757d;">
                        <i class="fas fa-clipboard-list" style="font-size: 4rem; margin-bottom: 20px;"></i>
                        <h3>设备事记</h3>
                        <p>页面内容正在开发中...</p>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <script>
        // 开始对比分析
        function startComparison(type) {
            const resultsDiv = document.getElementById('comparisonResults');
            
            // 显示加载状态
            resultsDiv.innerHTML = `
                <div style="text-align: center; color: #6c757d; padding: 40px 20px;">
                    <div style="display: inline-block; width: 50px; height: 50px; border: 3px solid #f0f0f0; border-top: 3px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px;"></div>
                    <h3 style="margin: 0 0 10px 0; color: #495057; font-size: 1.3rem;">正在生成对比分析...</h3>
                    <p style="margin: 0; font-size: 0.95rem;">请稍候，系统正在分析设备数据</p>
                </div>
            `;
            
            // 添加旋转动画样式
            if (!document.getElementById('spinner-style')) {
                const style = document.createElement('style');
                style.id = 'spinner-style';
                style.textContent = `
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // 模拟数据加载，2秒后显示结果
            setTimeout(() => {
                if (type === 'customer') {
                    showCustomerComparison();
                } else if (type === 'model') {
                    showModelComparison();
                } else if (type === 'custom') {
                    showCustomComparison();
                }
            }, 2000);
        }

        // 显示客户对比结果
        function showCustomerComparison() {
            const resultsDiv = document.getElementById('comparisonResults');
            resultsDiv.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #333; margin: 0 0 10px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-building" style="color: #667eea;"></i>
                        广州精密制造 - 设备对比分析
                    </h3>
                    <p style="color: #6c757d; margin: 0; font-size: 0.9rem;">分析该客户3台设备的性能差异 (AC-2580-001, AC-2580-002, IM-3600-001)</p>
                </div>
                
                <!-- 关键指标对比 -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-clock"></i></div>
                        <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;">95.2%</div>
                        <div style="font-size: 0.85rem; opacity: 0.9;">最高开机率</div>
                        <div style="font-size: 0.75rem; margin-top: 5px; opacity: 0.8;">AC-2580-001</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #ffc107, #fd7e14); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-exclamation-triangle"></i></div>
                        <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;">12次</div>
                        <div style="font-size: 0.85rem; opacity: 0.9;">最多故障</div>
                        <div style="font-size: 0.75rem; margin-top: 5px; opacity: 0.8;">IM-3600-001</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #17a2b8, #6f42c1); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-bolt"></i></div>
                        <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;">23%</div>
                        <div style="font-size: 0.85rem; opacity: 0.9;">最大效率差</div>
                        <div style="font-size: 0.75rem; margin-top: 5px; opacity: 0.8;">设备间差异</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #6f42c1, #e83e8c); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;"><i class="fas fa-trophy"></i></div>
                        <div style="font-size: 1.6rem; font-weight: bold; margin-bottom: 5px;">A级</div>
                        <div style="font-size: 0.85rem; opacity: 0.9;">整体评级</div>
                        <div style="font-size: 0.75rem; margin-top: 5px; opacity: 0.8;">优于行业均值</div>
                    </div>
                </div>

                <!-- 详细对比表格 -->
                <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                    <h4 style="color: #333; margin: 0 0 15px 0; font-size: 1.1rem;">详细性能对比</h4>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <thead>
                                <tr style="background: #667eea; color: white;">
                                    <th style="padding: 12px; text-align: left;">设备编号</th>
                                    <th style="padding: 12px; text-align: center;">开机率</th>
                                    <th style="padding: 12px; text-align: center;">故障次数</th>
                                    <th style="padding: 12px; text-align: center;">平均效率</th>
                                    <th style="padding: 12px; text-align: center;">能耗(kWh)</th>
                                    <th style="padding: 12px; text-align: center;">评级</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="padding: 12px; font-weight: 500;">AC-2580-001</td>
                                    <td style="padding: 12px; text-align: center; color: #28a745; font-weight: bold;">95.2%</td>
                                    <td style="padding: 12px; text-align: center;">3次</td>
                                    <td style="padding: 12px; text-align: center;">87.5%</td>
                                    <td style="padding: 12px; text-align: center;">2,340</td>
                                    <td style="padding: 12px; text-align: center;"><span style="background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">优秀</span></td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f0f0f0;">
                                    <td style="padding: 12px; font-weight: 500;">AC-2580-002</td>
                                    <td style="padding: 12px; text-align: center;">89.7%</td>
                                    <td style="padding: 12px; text-align: center;">7次</td>
                                    <td style="padding: 12px; text-align: center;">82.1%</td>
                                    <td style="padding: 12px; text-align: center;">2,580</td>
                                    <td style="padding: 12px; text-align: center;"><span style="background: #ffc107; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">良好</span></td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px; font-weight: 500;">IM-3600-001</td>
                                    <td style="padding: 12px; text-align: center;">76.3%</td>
                                    <td style="padding: 12px; text-align: center; color: #dc3545; font-weight: bold;">12次</td>
                                    <td style="padding: 12px; text-align: center;">69.8%</td>
                                    <td style="padding: 12px; text-align: center;">3,120</td>
                                    <td style="padding: 12px; text-align: center;"><span style="background: #dc3545; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">需改进</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 改进建议 -->
                <div style="background: linear-gradient(135deg, #e3f2fd, #f3e5f5); border-radius: 10px; padding: 20px; margin-top: 20px; border-left: 4px solid #667eea;">
                    <h4 style="color: #333; margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-lightbulb" style="color: #ffc107;"></i>
                        优化建议
                    </h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <h5 style="color: #495057; margin: 0 0 8px 0; font-size: 0.95rem;">立即处理</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #6c757d; font-size: 0.9rem;">
                                <li>IM-3600-001设备故障频发，建议安排专项检修</li>
                                <li>AC-2580-002能耗偏高，检查压缩机效率</li>
                            </ul>
                        </div>
                        <div>
                            <h5 style="color: #495057; margin: 0 0 8px 0; font-size: 0.95rem;">持续优化</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #6c757d; font-size: 0.9rem;">
                                <li>参照AC-2580-001的优秀表现，优化其他设备配置</li>
                                <li>建立设备运行标准化操作流程</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        // 显示型号对比结果
        function showModelComparison() {
            const resultsDiv = document.getElementById('comparisonResults');
            resultsDiv.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #333; margin: 0 0 10px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-cogs" style="color: #28a745;"></i>
                        AC-2580空压机 - 跨客户对比分析
                    </h3>
                    <p style="color: #6c757d; margin: 0; font-size: 0.9rem;">对比该型号在5个不同客户环境下的表现差异</p>
                </div>
                
                <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                    <h4 style="color: #333; margin: 0 0 15px 0; font-size: 1.1rem;">客户环境对比</h4>
                    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px;">
                        <div style="background: white; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h5 style="margin: 0 0 10px 0; color: #333; font-size: 0.9rem;">广州精密制造</h5>
                            <div style="color: #28a745; font-size: 1.4rem; font-weight: bold; margin-bottom: 5px;">95.2%</div>
                            <div style="color: #6c757d; font-size: 0.8rem;">开机率</div>
                        </div>
                        <div style="background: white; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h5 style="margin: 0 0 10px 0; color: #333; font-size: 0.9rem;">北京工业集团</h5>
                            <div style="color: #ffc107; font-size: 1.4rem; font-weight: bold; margin-bottom: 5px;">88.7%</div>
                            <div style="color: #6c757d; font-size: 0.8rem;">开机率</div>
                        </div>
                        <div style="background: white; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h5 style="margin: 0 0 10px 0; color: #333; font-size: 0.9rem;">上海制造</h5>
                            <div style="color: #17a2b8; font-size: 1.4rem; font-weight: bold; margin-bottom: 5px;">92.1%</div>
                            <div style="color: #6c757d; font-size: 0.8rem;">开机率</div>
                        </div>
                        <div style="background: white; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h5 style="margin: 0 0 10px 0; color: #333; font-size: 0.9rem;">深圳科技</h5>
                            <div style="color: #dc3545; font-size: 1.4rem; font-weight: bold; margin-bottom: 5px;">73.8%</div>
                            <div style="color: #6c757d; font-size: 0.8rem;">开机率</div>
                        </div>
                        <div style="background: white; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <h5 style="margin: 0 0 10px 0; color: #333; font-size: 0.9rem;">天津重工</h5>
                            <div style="color: #6f42c1; font-size: 1.4rem; font-weight: bold; margin-bottom: 5px;">85.3%</div>
                            <div style="color: #6c757d; font-size: 0.8rem;">开机率</div>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); border-radius: 10px; padding: 20px; margin-top: 20px; border-left: 4px solid #ffc107;">
                    <h4 style="color: #333; margin: 0 0 15px 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-search" style="color: #ffc107;"></i>
                        分析结论
                    </h4>
                    <p style="color: #6c757d; margin: 0; font-size: 0.9rem; line-height: 1.6;">
                        同型号设备在不同客户环境下表现差异显著，<strong>广州精密制造</strong>环境下设备表现最佳，
                        <strong>深圳科技</strong>环境下设备表现需要改进。建议深入分析操作规范、环境条件、维护频次等因素。
                    </p>
                </div>
            `;
        }

        // 显示自定义对比结果
        function showCustomComparison() {
            const resultsDiv = document.getElementById('comparisonResults');
            resultsDiv.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #333; margin: 0 0 10px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-sliders-h" style="color: #ffc107;"></i>
                        自定义对比分析工具
                    </h3>
                    <p style="color: #6c757d; margin: 0; font-size: 0.9rem;">选择要对比的设备和分析维度</p>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                        <h4 style="color: #333; margin: 0 0 15px 0; font-size: 1rem;">选择对比设备</h4>
                        <div style="max-height: 300px; overflow-y: auto;">
                            <div style="margin-bottom: 10px;">
                                <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                    <input type="checkbox"> 
                                    <div>
                                        <div style="font-weight: 500; color: #333;">KG-001 AC-2580</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">广州精密制造 - 1号生产线</div>
                                    </div>
                                </label>
                            </div>
                            <div style="margin-bottom: 10px;">
                                <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                    <input type="checkbox"> 
                                    <div>
                                        <div style="font-weight: 500; color: #333;">KG-135 IM-3600</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">北京工业集团 - A区4号</div>
                                    </div>
                                </label>
                            </div>
                            <div style="margin-bottom: 10px;">
                                <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                    <input type="checkbox"> 
                                    <div>
                                        <div style="font-weight: 500; color: #333;">KG-201 AC-2580</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">上海制造 - C区域</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                        <h4 style="color: #333; margin: 0 0 15px 0; font-size: 1rem;">分析维度选择</h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                <input type="checkbox" checked> 
                                <span style="color: #333;">开机率对比</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                <input type="checkbox" checked> 
                                <span style="color: #333;">故障频率</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                <input type="checkbox"> 
                                <span style="color: #333;">能耗效率</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; padding: 8px; background: white; border-radius: 6px; cursor: pointer;">
                                <input type="checkbox"> 
                                <span style="color: #333;">生产效率</span>
                            </label>
                        </div>
                        
                        <button style="width: 100%; margin-top: 20px; padding: 12px; background: #ffc107; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            <i class="fas fa-chart-line"></i> 生成对比分析
                        </button>
                    </div>
                </div>
            `;
        }

        // 页面切换函数
        function showPage(pageKey) {
            // 隐藏所有页面
            document.querySelectorAll('.main-content').forEach(div => div.style.display = 'none');
            
            // 显示指定页面
            const page = document.getElementById('page-' + pageKey);
            if (page) {
                page.style.display = 'block';
            }
            
            // 更新菜单激活状态
            document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('active'));
            document.querySelectorAll('.menu-item').forEach(item => {
                if (item.getAttribute('onclick') && item.getAttribute('onclick').includes(pageKey)) {
                    item.classList.add('active');
                }
            });
        }

        // 系统切换函数
        function switchSystem(type) {
            if (type === 'product') {
                // 当前就是产品设备远程监测系统，重新载入产品概览页面
                location.href = 'debug-index.html';
            } else {
                // 切换到设备远程监测运维系统，跳转到专门的页面
                location.href = 'device-maintenance-index.html';
            }
        }

        // 综合看板相关函数
        function refreshData() {
            const lastUpdate = document.getElementById('lastUpdate');
            if (lastUpdate) {
                lastUpdate.textContent = new Date().toLocaleString();
            }
            
            // 模拟数据刷新
            const currentValue = document.getElementById('currentValue');
            if (currentValue) {
                const temp = (70 + Math.random() * 20).toFixed(1);
                currentValue.textContent = temp + '°C';
            }
        }

        function toggleFullscreen() {
            // 模拟全屏功能
            alert('全屏功能开发中...');
        }

        // 启停记录页面相关函数
        const customerDevicesData = {
            '': { name: '全部客户', devices: [] },
            'shanghai': {
                name: '上海制造有限公司',
                devices: [
                    { id: 'KG-001', name: 'AC系列空压机', location: '1号生产线', status: 'running' },
                    { id: 'KG-002', name: 'AC系列空压机', location: '2号生产线', status: 'stopped' },
                    { id: 'KG-003', name: 'PR系列冲床', location: '3号生产线', status: 'running' }
                ]
            },
            'guangzhou': {
                name: '广州精密制造',
                devices: [
                    { id: 'KG-135', name: 'IM系列注塑机', location: 'A区5号线', status: 'running' },
                    { id: 'KG-156', name: 'IM系列注塑机', location: 'A区6号线', status: 'running' },
                    { id: 'KG-178', name: 'PR系列冲床', location: 'B区1号线', status: 'stopped' },
                    { id: 'KG-189', name: 'IM系列注塑机', location: 'B区2号线', status: 'maintenance' },
                    { id: 'KG-201', name: 'AC系列空压机', location: 'C区辅助', status: 'running' },
                    { id: 'KG-212', name: 'PR系列冲床', location: 'C区3号线', status: 'running' },
                    { id: 'KG-223', name: 'IM系列注塑机', location: 'D区1号线', status: 'stopped' },
                    { id: 'KG-234', name: 'AC系列空压机', location: 'D区辅助', status: 'running' }
                ]
            },
            'beijing': {
                name: '北京工业集团',
                devices: [
                    { id: 'KG-078', name: 'PR系列冲床', location: 'B车间3号线', status: 'stopped' },
                    { id: 'KG-089', name: 'PR系列冲床', location: 'B车间4号线', status: 'running' },
                    { id: 'KG-098', name: 'IM系列注塑机', location: 'A车间1号线', status: 'running' },
                    { id: 'KG-107', name: 'AC系列空压机', location: 'A车间辅助', status: 'running' },
                    { id: 'KG-118', name: 'PR系列冲床', location: 'C车间1号线', status: 'maintenance' },
                    { id: 'KG-129', name: 'IM系列注塑机', location: 'C车间2号线', status: 'running' },
                    { id: 'KG-140', name: 'AC系列空压机', location: 'B车间辅助', status: 'stopped' },
                    { id: 'KG-151', name: 'PR系列冲床', location: 'D车间1号线', status: 'running' },
                    { id: 'KG-162', name: 'IM系列注塑机', location: 'D车间2号线', status: 'running' },
                    { id: 'KG-173', name: 'AC系列空压机', location: 'C车间辅助', status: 'running' },
                    { id: 'KG-184', name: 'PR系列冲床', location: 'A车间5号线', status: 'stopped' },
                    { id: 'KG-195', name: 'IM系列注塑机', location: 'B车间6号线', status: 'running' }
                ]
            },
            'shenzhen': {
                name: '深圳科技公司',
                devices: [
                    { id: 'KG-043', name: 'AC系列空压机', location: '2号车间', status: 'running' },
                    { id: 'KG-054', name: 'IM系列注塑机', location: '1号车间', status: 'running' },
                    { id: 'KG-065', name: 'PR系列冲床', location: '3号车间', status: 'stopped' },
                    { id: 'KG-076', name: 'AC系列空压机', location: '1号车间辅助', status: 'maintenance' },
                    { id: 'KG-087', name: 'IM系列注塑机', location: '2号车间', status: 'running' },
                    { id: 'KG-098', name: 'PR系列冲床', location: '4号车间', status: 'running' }
                ]
            },
            'tianjin': {
                name: '天津重工机械',
                devices: [
                    { id: 'KG-301', name: 'AC系列空压机', location: '东区1号线', status: 'running' },
                    { id: 'KG-312', name: 'PR系列冲床', location: '东区2号线', status: 'running' },
                    { id: 'KG-323', name: 'IM系列注塑机', location: '西区1号线', status: 'stopped' },
                    { id: 'KG-334', name: 'AC系列空压机', location: '西区辅助', status: 'maintenance' },
                    { id: 'KG-345', name: 'PR系列冲床', location: '南区1号线', status: 'running' }
                ]
            }
        };

        function loadCustomerDevices() {
            const customerSelect = document.getElementById('customerSelect');
            const deviceSelect = document.getElementById('deviceSelect');
            const customerInfo = document.getElementById('customerInfo');
            const customerName = document.getElementById('customerName');
            const customerStats = document.getElementById('customerStats');
            const customerDeviceGrid = document.getElementById('customerDeviceGrid');
            
            const selectedCustomer = customerSelect.value;
            
            // 清空设备选择器
            deviceSelect.innerHTML = '<option value="">全部设备</option>';
            
            if (selectedCustomer && customerDevicesData[selectedCustomer]) {
                const customerData = customerDevicesData[selectedCustomer];
                
                // 显示客户信息面板
                customerInfo.style.display = 'block';
                customerName.textContent = customerData.name;
                customerStats.textContent = `共 ${customerData.devices.length} 台设备`;
                
                // 填充设备选择器
                customerData.devices.forEach(device => {
                    const option = document.createElement('option');
                    option.value = device.id;
                    option.textContent = `${device.id} - ${device.name} (${device.location})`;
                    deviceSelect.appendChild(option);
                });
                
                // 生成设备卡片
                customerDeviceGrid.innerHTML = '';
                customerData.devices.forEach(device => {
                    const statusConfig = {
                        'running': { color: '#28a745', text: '运行中', bg: '#d4edda' },
                        'stopped': { color: '#6c757d', text: '已停止', bg: '#f8f9fa' },
                        'maintenance': { color: '#ffc107', text: '维护中', bg: '#fff3cd' }
                    };
                    
                    const config = statusConfig[device.status] || statusConfig['stopped'];
                    
                    const deviceCard = document.createElement('div');
                    deviceCard.style.cssText = `
                        background: white; 
                        border: 1px solid #e9ecef; 
                        border-radius: 8px; 
                        padding: 15px; 
                        cursor: pointer; 
                        transition: all 0.3s ease;
                    `;
                    deviceCard.onclick = () => selectDevice(device.id);
                    deviceCard.onmouseover = () => deviceCard.style.transform = 'translateY(-2px)';
                    deviceCard.onmouseout = () => deviceCard.style.transform = 'translateY(0)';
                    
                    deviceCard.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="font-weight: bold; color: #333;">${device.id}</div>
                            <span style="background: ${config.color}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">${config.text}</span>
                        </div>
                        <div style="color: #666; margin-bottom: 8px;">${device.name}</div>
                        <div style="color: #999; font-size: 0.9rem;">${device.location}</div>
                    `;
                    
                    customerDeviceGrid.appendChild(deviceCard);
                });
            } else {
                // 隐藏客户信息面板
                customerInfo.style.display = 'none';
            }
            
            // 刷新记录表格
            filterRecords();
        }

        function selectDevice(deviceId) {
            const deviceSelect = document.getElementById('deviceSelect');
            deviceSelect.value = deviceId;
            filterRecords();
        }

        // 模拟的启停记录数据
        const allRecordsData = [
            { deviceId: 'KG-001', deviceName: 'AC系列空压机', customer: 'shanghai', location: '1号生产线', action: 'start', time: '09:15:32', reason: '正常生产', duration: '5小时18分', status: 'running' },
            { deviceId: 'KG-002', deviceName: 'AC系列空压机', customer: 'shanghai', location: '2号生产线', action: 'stop', time: '13:20:15', reason: '设备检修', duration: '4小时5分', status: 'stopped' },
            { deviceId: 'KG-003', deviceName: 'PR系列冲床', customer: 'shanghai', location: '3号生产线', action: 'start', time: '08:30:00', reason: '正常生产', duration: '6小时3分', status: 'running' },
            
            { deviceId: 'KG-135', deviceName: 'IM系列注塑机', customer: 'guangzhou', location: 'A区5号线', action: 'start', time: '10:30:15', reason: '正常生产', duration: '4小时3分', status: 'running' },
            { deviceId: 'KG-156', deviceName: 'IM系列注塑机', customer: 'guangzhou', location: 'A区6号线', action: 'start', time: '09:15:00', reason: '正常生产', duration: '5小时18分', status: 'running' },
            { deviceId: 'KG-178', deviceName: 'PR系列冲床', customer: 'guangzhou', location: 'B区1号线', action: 'stop', time: '14:45:30', reason: '计划停机', duration: '6小时15分', status: 'stopped' },
            { deviceId: 'KG-189', deviceName: 'IM系列注塑机', customer: 'guangzhou', location: 'B区2号线', action: 'stop', time: '11:20:45', reason: '维护保养', duration: '3小时50分', status: 'maintenance' },
            { deviceId: 'KG-201', deviceName: 'AC系列空压机', customer: 'guangzhou', location: 'C区辅助', action: 'start', time: '07:45:12', reason: '正常生产', duration: '7小时48分', status: 'running' },
            
            { deviceId: 'KG-078', deviceName: 'PR系列冲床', customer: 'beijing', location: 'B车间3号线', action: 'stop', time: '12:45:28', reason: '维护保养', duration: '3小时30分', status: 'stopped' },
            { deviceId: 'KG-089', deviceName: 'PR系列冲床', customer: 'beijing', location: 'B车间4号线', action: 'start', time: '08:45:22', reason: '正常生产', duration: '5小时48分', status: 'running' },
            { deviceId: 'KG-098', deviceName: 'IM系列注塑机', customer: 'beijing', location: 'A车间1号线', action: 'start', time: '09:30:15', reason: '正常生产', duration: '5小时3分', status: 'running' },
            { deviceId: 'KG-107', deviceName: 'AC系列空压机', customer: 'beijing', location: 'A车间辅助', action: 'start', time: '07:15:00', reason: '正常生产', duration: '8小时18分', status: 'running' },
            
            { deviceId: 'KG-043', deviceName: 'AC系列空压机', customer: 'shenzhen', location: '2号车间', action: 'start', time: '07:30:45', reason: '正常生产', duration: '7小时2分', status: 'running' },
            { deviceId: 'KG-054', deviceName: 'IM系列注塑机', customer: 'shenzhen', location: '1号车间', action: 'start', time: '08:15:30', reason: '正常生产', duration: '6小时18分', status: 'running' },
            { deviceId: 'KG-065', deviceName: 'PR系列冲床', customer: 'shenzhen', location: '3号车间', action: 'stop', time: '15:20:10', reason: '班次结束', duration: '7小时5分', status: 'stopped' },
            
            { deviceId: 'KG-301', deviceName: 'AC系列空压机', customer: 'tianjin', location: '东区1号线', action: 'start', time: '06:45:15', reason: '正常生产', duration: '8小时48分', status: 'running' },
            { deviceId: 'KG-312', deviceName: 'PR系列冲床', customer: 'tianjin', location: '东区2号线', action: 'start', time: '07:20:30', reason: '正常生产', duration: '8小时13分', status: 'running' },
            { deviceId: 'KG-323', deviceName: 'IM系列注塑机', customer: 'tianjin', location: '西区1号线', action: 'stop', time: '16:30:20', reason: '设备检查', duration: '8小时10分', status: 'stopped' }
        ];

        function filterRecords() {
            const customerSelect = document.getElementById('customerSelect');
            const deviceSelect = document.getElementById('deviceSelect');
            const timeRange = document.getElementById('timeRange');
            
            const selectedCustomer = customerSelect.value;
            const selectedDevice = deviceSelect.value;
            const selectedTimeRange = timeRange.value;
            
            // 过滤数据
            let filteredRecords = allRecordsData;
            
            // 按客户过滤
            if (selectedCustomer) {
                filteredRecords = filteredRecords.filter(record => record.customer === selectedCustomer);
            }
            
            // 按设备过滤
            if (selectedDevice) {
                filteredRecords = filteredRecords.filter(record => record.deviceId === selectedDevice);
            }
            
            // 更新表格
            updateRecordsTable(filteredRecords);
        }

        function updateRecordsTable(records) {
            const tableBody = document.getElementById('recordsTableBody');
            const recordsCount = document.getElementById('recordsCount');
            
            // 更新记录数量
            recordsCount.textContent = `共 ${records.length} 条记录`;
            
            // 清空表格
            tableBody.innerHTML = '';
            
            // 生成表格行
            records.forEach(record => {
                const customerData = customerDevicesData[record.customer];
                const customerName = customerData ? customerData.name : '未知客户';
                
                const statusConfig = {
                    'running': { color: '#28a745', text: '运行中' },
                    'stopped': { color: '#6c757d', text: '已停止' },
                    'maintenance': { color: '#ffc107', text: '维护中' }
                };
                
                const actionConfig = {
                    'start': { color: '#28a745', text: '启动', icon: 'play' },
                    'stop': { color: '#dc3545', text: '停止', icon: 'stop' }
                };
                
                const statusStyle = statusConfig[record.status] || statusConfig['stopped'];
                const actionStyle = actionConfig[record.action] || actionConfig['stop'];
                
                const row = document.createElement('tr');
                row.style.borderBottom = '1px solid #f0f0f0';
                row.innerHTML = `
                    <td style="padding: 12px; color: #333; font-weight: 600;">${record.deviceId}</td>
                    <td style="padding: 12px; color: #333;">${record.deviceName}</td>
                    <td style="padding: 12px; color: #6c757d;">${record.location}</td>
                    <td style="padding: 12px;">
                        <span style="background: ${actionStyle.color}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">
                            <i class="fas fa-${actionStyle.icon}"></i> ${actionStyle.text}
                        </span>
                    </td>
                    <td style="padding: 12px; color: #6c757d;">${record.time}</td>
                    <td style="padding: 12px; color: #6c757d;">${record.reason}</td>
                    <td style="padding: 12px; color: #6c757d;">${record.duration}</td>
                    <td style="padding: 12px;">
                        <span style="background: ${statusStyle.color}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">${statusStyle.text}</span>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // 如果没有记录，显示提示
            if (records.length === 0) {
                const emptyRow = document.createElement('tr');
                emptyRow.innerHTML = `
                    <td colspan="8" style="padding: 40px; text-align: center; color: #6c757d;">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.5;"></i>
                        <div>暂无符合条件的记录</div>
                    </td>
                `;
                tableBody.appendChild(emptyRow);
            }
        }

        // 设备对比数据
        const deviceComparisonData = [
            { deviceId: 'KG-001', model: 'AC-2580', customer: 'guangzhou', customerName: '广州精密制造', location: '生产车间A-01', status: 'running', uptimeRate: 94.2, monthStarts: 28, totalRuntime: 342.5, avgDailyRuntime: 18.5, faultCount: 1 },
            { deviceId: 'KG-006', model: 'AC-2580', customer: 'guangzhou', customerName: '广州精密制造', location: '生产车间A-02', status: 'running', uptimeRate: 94.8, monthStarts: 29, totalRuntime: 345.2, avgDailyRuntime: 18.6, faultCount: 0 },
            { deviceId: 'KG-011', model: 'IM-3600', customer: 'guangzhou', customerName: '广州精密制造', location: '生产车间B-03', status: 'running', uptimeRate: 93.5, monthStarts: 30, totalRuntime: 338.9, avgDailyRuntime: 18.3, faultCount: 2 },
            
            { deviceId: 'KG-003', model: 'IM-3600', customer: 'beijing', customerName: '北京工业集团', location: '注塑车间-06', status: 'running', uptimeRate: 89.7, monthStarts: 31, totalRuntime: 298.7, avgDailyRuntime: 16.1, faultCount: 3 },
            { deviceId: 'KG-007', model: 'IM-3600', customer: 'beijing', customerName: '北京工业集团', location: '注塑车间-07', status: 'stopped', uptimeRate: 85.2, monthStarts: 26, totalRuntime: 276.5, avgDailyRuntime: 14.9, faultCount: 5 },
            { deviceId: 'KG-012', model: 'PR-1200', customer: 'beijing', customerName: '北京工业集团', location: '冲压车间-B2', status: 'running', uptimeRate: 88.3, monthStarts: 27, totalRuntime: 292.1, avgDailyRuntime: 15.7, faultCount: 2 },
            { deviceId: 'KG-013', model: 'AC-2580', customer: 'beijing', customerName: '北京工业集团', location: '压缩机房-A1', status: 'running', uptimeRate: 91.2, monthStarts: 25, totalRuntime: 318.4, avgDailyRuntime: 17.1, faultCount: 1 },
            
            { deviceId: 'KG-002', model: 'AC-2580', customer: 'shanghai', customerName: '上海制造有限公司', location: '车间B区域3', status: 'fault', uptimeRate: 72.1, monthStarts: 15, totalRuntime: 156.2, avgDailyRuntime: 8.4, faultCount: 8 },
            { deviceId: 'KG-008', model: 'PR-1200', customer: 'shanghai', customerName: '上海制造有限公司', location: '车间B区域5', status: 'fault', uptimeRate: 68.9, monthStarts: 12, totalRuntime: 145.8, avgDailyRuntime: 7.9, faultCount: 12 },
            
            { deviceId: 'KG-005', model: 'CNC-8800', customer: 'shenzhen', customerName: '深圳科技公司', location: '精密加工区-12', status: 'running', uptimeRate: 78.3, monthStarts: 22, totalRuntime: 234.8, avgDailyRuntime: 12.7, faultCount: 4 },
            { deviceId: 'KG-010', model: 'AC-2580', customer: 'shenzhen', customerName: '深圳科技公司', location: '压缩机房-01', status: 'offline', uptimeRate: 71.2, monthStarts: 18, totalRuntime: 198.7, avgDailyRuntime: 10.7, faultCount: 6 },
            
            { deviceId: 'KG-004', model: 'PR-1200', customer: 'tianjin', customerName: '天津重工机械', location: '冲压车间-A3', status: 'stopped', uptimeRate: 86.4, monthStarts: 24, totalRuntime: 286.4, avgDailyRuntime: 15.4, faultCount: 3 },
            { deviceId: 'KG-009', model: 'CNC-8800', customer: 'tianjin', customerName: '天津重工机械', location: '数控车间-15', status: 'running', uptimeRate: 87.1, monthStarts: 25, totalRuntime: 289.3, avgDailyRuntime: 15.6, faultCount: 2 }
        ];

        let currentComparisonMode = 'sameCustomer';

        // 切换对比模式
        function switchComparisonMode(mode) {
            currentComparisonMode = mode;
            
            // 更新按钮样式
            document.getElementById('viewMode1').style.background = mode === 'sameCustomer' ? '#667eea' : '#6c757d';
            document.getElementById('viewMode2').style.background = mode === 'sameModel' ? '#667eea' : '#6c757d';
            
            // 切换显示模式
            document.getElementById('sameCustomerMode').style.display = mode === 'sameCustomer' ? 'grid' : 'none';
            document.getElementById('sameModelMode').style.display = mode === 'sameModel' ? 'grid' : 'none';
            
            // 清空结果
            clearComparisonResults();
        }

        // 清空对比结果
        function clearComparisonResults() {
            document.getElementById('comparisonResults').innerHTML = `
                <div style="text-align: center; color: #6c757d; padding: 40px;">
                    <i class="fas fa-chart-bar" style="font-size: 3rem; opacity: 0.3; margin-bottom: 15px;"></i>
                    <h3 style="margin: 0 0 10px 0; color: #495057;">请选择对比模式开始分析</h3>
                    <p style="margin: 0; font-size: 0.9rem;">选择"同客户多设备"或"同型号不同客户"进行深度对比分析</p>
                </div>
            `;
        }

        // 加载客户设备
        function loadCustomerDevices() {
            const customer = document.getElementById('comparisonCustomer').value;
            const modelFilter = document.getElementById('customerModelFilter');
            
            modelFilter.innerHTML = '<option value="">全部型号</option>';
            
            if (customer) {
                const customerDevices = deviceComparisonData.filter(d => d.customer === customer);
                const models = [...new Set(customerDevices.map(d => d.model))];
                
                models.forEach(model => {
                    const option = document.createElement('option');
                    option.value = model;
                    option.textContent = model;
                    modelFilter.appendChild(option);
                });
            }
        }

        // 生成客户内设备对比
        function generateCustomerComparison() {
            const customer = document.getElementById('comparisonCustomer').value;
            const model = document.getElementById('customerModelFilter').value;
            
            if (!customer) {
                alert('请先选择客户');
                return;
            }
            
            let devices = deviceComparisonData.filter(d => d.customer === customer);
            if (model) {
                devices = devices.filter(d => d.model === model);
            }
            
            if (devices.length < 2) {
                alert('该客户下没有足够的设备进行对比');
                return;
            }
            
            displayCustomerComparison(devices);
        }

        // 显示客户设备对比
        function displayCustomerComparison(devices) {
            const resultsDiv = document.getElementById('comparisonResults');
            const customerName = devices[0].customerName;
            
            // 按开机率排序
            devices.sort((a, b) => b.uptimeRate - a.uptimeRate);
            const bestDevice = devices[0];
            const worstDevice = devices[devices.length - 1];
            
            let html = `
                <!-- 对比分析头部 -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h2 style="margin: 0 0 8px 0; font-size: 1.8rem; font-weight: 600;">
                                <i class="fas fa-building" style="margin-right: 12px;"></i>
                                ${customerName}
                            </h2>
                            <p style="margin: 0; opacity: 0.9; font-size: 1.1rem;">设备使用对比分析 - ${devices.length} 台设备全景对比</p>
                        </div>
                        <div style="text-align: center; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 12px; min-width: 120px;">
                            <div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">综合评分</div>
                            <div style="font-size: 2rem; font-weight: bold;">${(devices.reduce((sum, d) => sum + d.uptimeRate, 0) / devices.length).toFixed(0)}</div>
                        </div>
                    </div>
                </div>

                <!-- 关键对比指标 -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 4px 20px rgba(40, 167, 69, 0.3);">
                        <i class="fas fa-trophy" style="font-size: 2.5rem; margin-bottom: 10px; opacity: 0.9;"></i>
                        <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">最佳表现设备</h4>
                        <div style="font-size: 1.3rem; font-weight: bold; margin-bottom: 5px;">${bestDevice.deviceId}</div>
                        <div style="opacity: 0.9;">${bestDevice.model} | 开机率 ${bestDevice.uptimeRate}%</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #dc3545, #e74c3c); color: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 4px 20px rgba(220, 53, 69, 0.3);">
                        <i class="fas fa-exclamation-triangle" style="font-size: 2.5rem; margin-bottom: 10px; opacity: 0.9;"></i>
                        <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">需要关注设备</h4>
                        <div style="font-size: 1.3rem; font-weight: bold; margin-bottom: 5px;">${worstDevice.deviceId}</div>
                        <div style="opacity: 0.9;">${worstDevice.model} | 开机率 ${worstDevice.uptimeRate}%</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #17a2b8, #20c997); color: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 4px 20px rgba(23, 162, 184, 0.3);">
                        <i class="fas fa-chart-line" style="font-size: 2.5rem; margin-bottom: 10px; opacity: 0.9;"></i>
                        <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">性能差距</h4>
                        <div style="font-size: 1.3rem; font-weight: bold; margin-bottom: 5px;">${(bestDevice.uptimeRate - worstDevice.uptimeRate).toFixed(1)}%</div>
                        <div style="opacity: 0.9;">最佳与最差设备差距</div>
                    </div>
                </div>

                <!-- 设备详细对比卡片 -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin: 0 0 20px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-layer-group" style="color: #667eea;"></i>
                        设备详细对比排行
                    </h3>
                    <div style="display: grid; gap: 15px;">
            `;
            
            devices.forEach((device, index) => {
                const rankColors = {
                    0: { bg: '#28a745', icon: 'fas fa-medal', rank: '1st', gradient: 'linear-gradient(135deg, #28a745, #20c997)' },
                    1: { bg: '#ffc107', icon: 'fas fa-award', rank: '2nd', gradient: 'linear-gradient(135deg, #ffc107, #fd7e14)' },
                    2: { bg: '#6f42c1', icon: 'fas fa-star', rank: '3rd', gradient: 'linear-gradient(135deg, #6f42c1, #e83e8c)' }
                };
                const rankInfo = rankColors[index] || { bg: '#6c757d', icon: 'fas fa-circle', rank: `${index + 1}th`, gradient: 'linear-gradient(135deg, #6c757d, #495057)' };
                
                html += `
                    <div style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); border-left: 6px solid ${rankInfo.bg}; position: relative; overflow: hidden;">
                        <!-- 排名角标 -->
                        <div style="position: absolute; top: -10px; right: 20px; background: ${rankInfo.gradient}; color: white; padding: 8px 15px; border-radius: 0 0 15px 15px; font-weight: bold; font-size: 0.9rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                            <i class="${rankInfo.icon}" style="margin-right: 5px;"></i>
                            ${rankInfo.rank}
                        </div>
                        
                        <div style="display: grid; grid-template-columns: auto 1fr auto; gap: 20px; align-items: center;">
                            <!-- 设备基本信息 -->
                            <div style="text-align: center; min-width: 120px;">
                                <div style="width: 80px; height: 80px; background: ${rankInfo.gradient}; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                                    <i class="fas fa-microchip" style="color: white; font-size: 2rem;"></i>
                                </div>
                                <div style="font-weight: bold; color: #333; font-size: 1.1rem; margin-bottom: 3px;">${device.deviceId}</div>
                                <div style="color: #6c757d; font-size: 0.9rem;">${device.model}</div>
                                <div style="color: #6c757d; font-size: 0.85rem; margin-top: 5px;">
                                    <i class="fas fa-map-marker-alt" style="margin-right: 5px;"></i>
                                    ${device.location}
                                </div>
                            </div>
                            
                            <!-- 性能指标可视化 -->
                            <div style="flex: 1;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                                    <!-- 开机率 -->
                                    <div style="text-align: center;">
                                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 8px;">开机率</div>
                                        <div style="position: relative; width: 60px; height: 60px; margin: 0 auto;">
                                            <div style="width: 60px; height: 60px; border-radius: 50%; background: conic-gradient(${rankInfo.bg} ${device.uptimeRate * 3.6}deg, #e9ecef 0deg); display: flex; align-items: center; justify-content: center;">
                                                <div style="width: 45px; height: 45px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                    <span style="font-size: 0.8rem; font-weight: bold; color: ${rankInfo.bg};">${device.uptimeRate}%</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 故障次数 -->
                                    <div style="text-align: center;">
                                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 8px;">故障次数</div>
                                        <div style="font-size: 1.8rem; font-weight: bold; color: ${device.faultCount > 5 ? '#dc3545' : device.faultCount > 2 ? '#ffc107' : '#28a745'}; margin-bottom: 5px;">${device.faultCount}</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">次/月</div>
                                    </div>
                                    
                                    <!-- 启动频率 -->
                                    <div style="text-align: center;">
                                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 8px;">启动频率</div>
                                        <div style="font-size: 1.8rem; font-weight: bold; color: #17a2b8; margin-bottom: 5px;">${device.monthStarts}</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">次/月</div>
                                    </div>
                                    
                                    <!-- 日均运行 -->
                                    <div style="text-align: center;">
                                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 8px;">日均运行</div>
                                        <div style="font-size: 1.8rem; font-weight: bold; color: #6f42c1; margin-bottom: 5px;">${device.avgDailyRuntime}</div>
                                        <div style="font-size: 0.8rem; color: #6c757d;">小时/天</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 状态与建议 -->
                            <div style="text-align: center; min-width: 150px;">
                                <div style="background: ${index === 0 ? 'linear-gradient(135deg, #28a745, #20c997)' : index === devices.length - 1 ? 'linear-gradient(135deg, #dc3545, #e74c3c)' : 'linear-gradient(135deg, #ffc107, #fd7e14)'}; color: white; padding: 12px 15px; border-radius: 25px; margin-bottom: 10px; font-size: 0.9rem; font-weight: 500;">
                                    ${index === 0 ? '🏆 标杆设备' : index === devices.length - 1 ? '⚠️ 重点关注' : '📈 表现良好'}
                                </div>
                                <div style="background: #f8f9fa; padding: 10px; border-radius: 8px; font-size: 0.85rem; color: #495057; line-height: 1.4;">
                                    ${getDeviceAnalysis(device, index, devices.length)}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div></div>';
            
            // 添加优化的总结分析
            html += generateEnhancedCustomerSummary(devices);
            
            resultsDiv.innerHTML = html;
        }

        // 生成同型号不同客户对比
        function generateModelComparison() {
            const model = document.getElementById('comparisonModel').value;
            const dimension = document.getElementById('comparisonDimension').value;
            
            if (!model) {
                alert('请先选择型号');
                return;
            }
            
            const devices = deviceComparisonData.filter(d => d.model === model);
            displayModelComparison(devices, dimension);
        }

        // 显示型号对比
        function displayModelComparison(devices, dimension) {
            const resultsDiv = document.getElementById('comparisonResults');
            const modelName = devices[0].model;
            
            // 按不同维度排序
            switch(dimension) {
                case 'uptime':
                    devices.sort((a, b) => b.uptimeRate - a.uptimeRate);
                    break;
                case 'frequency':
                    devices.sort((a, b) => b.monthStarts - a.monthStarts);
                    break;
                case 'stability':
                    devices.sort((a, b) => a.faultCount - b.faultCount);
                    break;
                case 'usage':
                    devices.sort((a, b) => b.avgDailyRuntime - a.avgDailyRuntime);
                    break;
            }
            
            const dimensionColors = {
                'uptime': { primary: '#28a745', gradient: 'linear-gradient(135deg, #28a745, #20c997)', icon: 'fas fa-chart-line' },
                'frequency': { primary: '#17a2b8', gradient: 'linear-gradient(135deg, #17a2b8, #20c997)', icon: 'fas fa-sync' },
                'stability': { primary: '#6f42c1', gradient: 'linear-gradient(135deg, #6f42c1, #e83e8c)', icon: 'fas fa-shield-alt' },
                'usage': { primary: '#fd7e14', gradient: 'linear-gradient(135deg, #fd7e14, #ffc107)', icon: 'fas fa-clock' }
            };
            const dimInfo = dimensionColors[dimension];
            
            let html = `
                <!-- 型号对比分析头部 -->
                <div style="background: ${dimInfo.gradient}; color: white; padding: 25px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h2 style="margin: 0 0 8px 0; font-size: 1.8rem; font-weight: 600;">
                                <i class="fas fa-cogs" style="margin-right: 12px;"></i>
                                ${modelName} 客户使用对比
                            </h2>
                            <p style="margin: 0; opacity: 0.9; font-size: 1.1rem;">${devices.length} 个客户同型号设备 • ${getDimensionText(dimension)}</p>
                        </div>
                        <div style="text-align: center; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 12px; min-width: 100px;">
                            <i class="${dimInfo.icon}" style="font-size: 2.5rem; margin-bottom: 8px; opacity: 0.9;"></i>
                            <div style="font-size: 0.9rem; opacity: 0.8;">${getDimensionText(dimension)}</div>
                        </div>
                    </div>
                </div>

                <!-- 排行榜 -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin: 0 0 20px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-list-ol" style="color: #667eea;"></i>
                        客户表现排行榜
                    </h3>
                    <div style="display: grid; gap: 15px;">
            `;
            
            devices.forEach((device, index) => {
                const medalIcons = ['🥇', '🥈', '🥉'];
                const medalIcon = medalIcons[index] || `🏅`;
                const isTop3 = index < 3;
                const isBottom = index >= devices.length - 2;
                
                const cardGradient = isTop3 ? 
                    (index === 0 ? 'linear-gradient(135deg, #ffd700, #ffed4e)' :
                     index === 1 ? 'linear-gradient(135deg, #c0c0c0, #e8e8e8)' :
                     'linear-gradient(135deg, #cd7f32, #daa520)') :
                    isBottom ? 'linear-gradient(135deg, #dc3545, #e74c3c)' :
                    'linear-gradient(135deg, #6c757d, #495057)';
                
                html += `
                    <div style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); border: 2px solid ${isTop3 ? '#ffd700' : isBottom ? '#dc3545' : '#e9ecef'}; position: relative; overflow: hidden;">
                        <!-- 排名角标 -->
                        <div style="position: absolute; top: -15px; left: 20px; background: ${cardGradient}; color: ${isTop3 ? '#333' : 'white'}; padding: 10px 20px; border-radius: 0 0 20px 20px; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 1.5rem;">${medalIcon}</span>
                            <span>第 ${index + 1} 名</span>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: auto 1fr auto auto; gap: 25px; align-items: center; margin-top: 15px;">
                            <!-- 客户信息 -->
                            <div style="text-align: center; min-width: 140px;">
                                <div style="width: 90px; height: 90px; background: ${dimInfo.gradient}; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);">
                                    <i class="fas fa-building" style="color: white; font-size: 2.2rem;"></i>
                                </div>
                                <div style="font-weight: bold; color: #333; font-size: 1.1rem; margin-bottom: 5px;">${device.customerName}</div>
                                <div style="color: #6c757d; font-size: 0.9rem; margin-bottom: 3px;">${device.deviceId}</div>
                                <div style="color: #6c757d; font-size: 0.85rem;">
                                    <i class="fas fa-map-marker-alt" style="margin-right: 5px;"></i>
                                    ${device.location}
                                </div>
                            </div>
                            
                            <!-- 主要指标 -->
                            <div style="flex: 1;">
                                ${getEnhancedComparisonMetrics(device, dimension, dimInfo)}
                            </div>
                            
                            <!-- 综合评分 -->
                            <div style="text-align: center; min-width: 100px;">
                                <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 8px;">综合评分</div>
                                <div style="position: relative; width: 80px; height: 80px; margin: 0 auto;">
                                    <div style="width: 80px; height: 80px; border-radius: 50%; background: conic-gradient(${dimInfo.primary} ${getOverallScore(device) * 3.6}deg, #e9ecef 0deg); display: flex; align-items: center; justify-content: center;">
                                        <div style="width: 60px; height: 60px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                            <span style="font-size: 1rem; font-weight: bold; color: ${dimInfo.primary};">${getOverallScore(device)}</span>
                                        </div>
                                    </div>
                                </div>
                                <div style="font-size: 0.8rem; color: #6c757d; margin-top: 5px;">/ 100分</div>
                            </div>
                            
                            <!-- 客户标签 -->
                            <div style="text-align: center; min-width: 120px;">
                                <div style="background: ${isTop3 ? 'linear-gradient(135deg, #28a745, #20c997)' : isBottom ? 'linear-gradient(135deg, #dc3545, #e74c3c)' : 'linear-gradient(135deg, #ffc107, #fd7e14)'}; color: white; padding: 10px 12px; border-radius: 20px; margin-bottom: 12px; font-size: 0.9rem; font-weight: 500;">
                                    ${isTop3 ? '🌟 标杆客户' : isBottom ? '⚠️ 需要关注' : '👍 表现良好'}
                                </div>
                                <div style="background: #f8f9fa; padding: 12px; border-radius: 8px; font-size: 0.85rem; color: #495057; line-height: 1.4;">
                                    ${getEnhancedCustomerAnalysis(device, index)}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div></div>';
            
            // 添加型号分析总结
            html += generateModelSummary(devices, dimension, dimInfo);
            
            resultsDiv.innerHTML = html;
        }

        // 辅助函数
        function getDeviceAnalysis(device, rank, total) {
            if (rank === 0) {
                return '表现最佳，可作为标杆设备，建议总结最佳实践';
            } else if (rank === total - 1) {
                if (device.faultCount > 5) {
                    return '故障频发，建议立即派遣技术人员检查维修';
                } else {
                    return '使用率偏低，建议了解客户生产计划变化';
                }
            } else {
                return '表现中等，建议定期维护保养';
            }
        }

        function generateCustomerSummary(devices) {
            const avgUptime = devices.reduce((sum, d) => sum + d.uptimeRate, 0) / devices.length;
            const totalFaults = devices.reduce((sum, d) => sum + d.faultCount, 0);
            
            return `
                <div style="background: #f8f9fa; border-radius: 12px; padding: 20px; margin-top: 20px;">
                    <h4 style="color: #333; margin: 0 0 15px 0;">💡 综合分析</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                        <div>
                            <div style="color: #6c757d; font-size: 0.9rem;">平均开机率</div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${avgUptime > 90 ? '#28a745' : avgUptime > 80 ? '#ffc107' : '#dc3545'};">${avgUptime.toFixed(1)}%</div>
                        </div>
                        <div>
                            <div style="color: #6c757d; font-size: 0.9rem;">总故障次数</div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${totalFaults < 5 ? '#28a745' : totalFaults < 15 ? '#ffc107' : '#dc3545'};">${totalFaults}次</div>
                        </div>
                        <div>
                            <div style="color: #6c757d; font-size: 0.9rem;">客户评级</div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${avgUptime > 90 && totalFaults < 5 ? '#28a745' : '#ffc107'};">
                                ${avgUptime > 90 && totalFaults < 5 ? '优质客户' : avgUptime > 80 ? '普通客户' : '重点关注'}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateEnhancedCustomerSummary(devices) {
            const avgUptime = devices.reduce((sum, d) => sum + d.uptimeRate, 0) / devices.length;
            const totalFaults = devices.reduce((sum, d) => sum + d.faultCount, 0);
            const avgDailyRuntime = devices.reduce((sum, d) => sum + d.avgDailyRuntime, 0) / devices.length;
            const bestDevice = devices[0];
            const worstDevice = devices[devices.length - 1];
            
            return `
                <!-- 综合分析仪表板 -->
                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 20px; padding: 30px; margin-top: 25px; border: 1px solid #dee2e6;">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h3 style="color: #333; margin: 0 0 8px 0; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; gap: 10px;">
                            <i class="fas fa-chart-pie" style="color: #667eea;"></i>
                            客户综合分析报告
                        </h3>
                        <p style="color: #6c757d; margin: 0; font-size: 1rem;">基于设备使用数据的深度洞察与建议</p>
                    </div>
                    
                    <!-- 核心指标仪表板 -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-left: 4px solid #28a745;">
                            <div style="color: #6c757d; font-size: 0.9rem; margin-bottom: 8px;">平均开机率</div>
                            <div style="font-size: 2.2rem; font-weight: bold; color: ${avgUptime > 90 ? '#28a745' : avgUptime > 80 ? '#ffc107' : '#dc3545'}; margin-bottom: 5px;">${avgUptime.toFixed(1)}%</div>
                            <div style="font-size: 0.8rem; color: #6c757d;">${avgUptime > 90 ? '优秀水平' : avgUptime > 80 ? '良好水平' : '需要改善'}</div>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-left: 4px solid #dc3545;">
                            <div style="color: #6c757d; font-size: 0.9rem; margin-bottom: 8px;">月故障总数</div>
                            <div style="font-size: 2.2rem; font-weight: bold; color: ${totalFaults < 5 ? '#28a745' : totalFaults < 15 ? '#ffc107' : '#dc3545'}; margin-bottom: 5px;">${totalFaults}</div>
                            <div style="font-size: 0.8rem; color: #6c757d;">平均 ${(totalFaults / devices.length).toFixed(1)} 次/设备</div>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-left: 4px solid #6f42c1;">
                            <div style="color: #6c757d; font-size: 0.9rem; margin-bottom: 8px;">日均运行时长</div>
                            <div style="font-size: 2.2rem; font-weight: bold; color: #6f42c1; margin-bottom: 5px;">${avgDailyRuntime.toFixed(1)}h</div>
                            <div style="font-size: 0.8rem; color: #6c757d;">${avgDailyRuntime > 16 ? '高强度使用' : avgDailyRuntime > 12 ? '正常使用' : '低强度使用'}</div>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-left: 4px solid #17a2b8;">
                            <div style="color: #6c757d; font-size: 0.9rem; margin-bottom: 8px;">客户评级</div>
                            <div style="font-size: 1.8rem; font-weight: bold; color: ${avgUptime > 90 && totalFaults < 5 ? '#28a745' : avgUptime > 85 ? '#ffc107' : '#dc3545'}; margin-bottom: 5px;">
                                ${avgUptime > 90 && totalFaults < 5 ? '🏆 优质' : avgUptime > 85 ? '👍 良好' : '⚠️ 关注'}
                            </div>
                            <div style="font-size: 0.8rem; color: #6c757d;">${avgUptime > 90 && totalFaults < 5 ? '值得深度合作' : avgUptime > 85 ? '有增购潜力' : '需技术支持'}</div>
                        </div>
                    </div>
                    
                    <!-- 对比洞察 -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 25px;">
                        <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                            <h4 style="color: #333; margin: 0 0 15px 0; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-trophy" style="color: #28a745;"></i>
                                最优设备分析
                            </h4>
                            <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                                <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 5px;">${bestDevice.deviceId}</div>
                                <div style="opacity: 0.9; font-size: 0.9rem;">${bestDevice.model} • 开机率 ${bestDevice.uptimeRate}%</div>
                            </div>
                            <div style="color: #495057; font-size: 0.9rem; line-height: 1.5;">
                                <strong>成功因素：</strong><br>
                                • 位置：${bestDevice.location}<br>
                                • 故障控制：仅 ${bestDevice.faultCount} 次故障<br>
                                • 运行稳定：日均 ${bestDevice.avgDailyRuntime}h<br>
                                <strong style="color: #28a745;">可作为其他设备的标杆参考</strong>
                            </div>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                            <h4 style="color: #333; margin: 0 0 15px 0; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-exclamation-triangle" style="color: #dc3545;"></i>
                                关注设备分析
                            </h4>
                            <div style="background: linear-gradient(135deg, #dc3545, #e74c3c); color: white; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                                <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 5px;">${worstDevice.deviceId}</div>
                                <div style="opacity: 0.9; font-size: 0.9rem;">${worstDevice.model} • 开机率 ${worstDevice.uptimeRate}%</div>
                            </div>
                            <div style="color: #495057; font-size: 0.9rem; line-height: 1.5;">
                                <strong>问题分析：</strong><br>
                                • 位置：${worstDevice.location}<br>
                                • 故障频发：${worstDevice.faultCount} 次故障<br>
                                • 运行效率：日均 ${worstDevice.avgDailyRuntime}h<br>
                                <strong style="color: #dc3545;">建议立即技术干预</strong>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 行动建议 -->
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 25px; border-radius: 15px; text-align: center;">
                        <h4 style="margin: 0 0 15px 0; font-size: 1.2rem;">
                            <i class="fas fa-lightbulb" style="margin-right: 8px;"></i>
                            智能建议
                        </h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; text-align: left;">
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px;">
                                <div style="font-weight: bold; margin-bottom: 8px;">🔧 维护建议</div>
                                <div style="font-size: 0.9rem; opacity: 0.9;">
                                    ${totalFaults > 10 ? '制定预防性维护计划，减少故障率' : '保持现有维护水平，定期检查'}
                                </div>
                            </div>
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px;">
                                <div style="font-weight: bold; margin-bottom: 8px;">📈 优化建议</div>
                                <div style="font-size: 0.9rem; opacity: 0.9;">
                                    推广 ${bestDevice.deviceId} 的最佳实践到其他设备
                                </div>
                            </div>
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px;">
                                <div style="font-weight: bold; margin-bottom: 8px;">🤝 商务建议</div>
                                <div style="font-size: 0.9rem; opacity: 0.9;">
                                    ${avgUptime > 90 ? '向该优质客户推荐新产品' : '提供技术支持增强客户满意度'}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function getDimensionText(dimension) {
            const texts = {
                'uptime': '按开机率排序',
                'frequency': '按启动频率排序', 
                'stability': '按稳定性排序',
                'usage': '按使用强度排序'
            };
            return texts[dimension] || '';
        }

        function getComparisonMetrics(device, dimension) {
            const metrics = {
                'uptime': `
                    <div style="margin-bottom: 10px;">
                        <div style="color: #6c757d; font-size: 0.85rem;">开机率</div>
                        <div style="font-weight: bold; color: #333; font-size: 1.2rem;">${device.uptimeRate}%</div>
                    </div>
                `,
                'frequency': `
                    <div style="margin-bottom: 10px;">
                        <div style="color: #6c757d; font-size: 0.85rem;">月启动次数</div>
                        <div style="font-weight: bold; color: #333; font-size: 1.2rem;">${device.monthStarts}次</div>
                    </div>
                `,
                'stability': `
                    <div style="margin-bottom: 10px;">
                        <div style="color: #6c757d; font-size: 0.85rem;">故障次数</div>
                        <div style="font-weight: bold; color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.2rem;">${device.faultCount}次</div>
                    </div>
                `,
                'usage': `
                    <div style="margin-bottom: 10px;">
                        <div style="color: #6c757d; font-size: 0.85rem;">日均运行时长</div>
                        <div style="font-weight: bold; color: #333; font-size: 1.2rem;">${device.avgDailyRuntime}小时</div>
                    </div>
                `
            };
            
            return metrics[dimension] + `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                    <div>
                        <div style="color: #6c757d; font-size: 0.8rem;">开机率</div>
                        <div style="font-weight: 500; font-size: 0.9rem;">${device.uptimeRate}%</div>
                    </div>
                    <div>
                        <div style="color: #6c757d; font-size: 0.8rem;">故障数</div>
                        <div style="font-weight: 500; font-size: 0.9rem;">${device.faultCount}次</div>
                    </div>
                </div>
            `;
        }

        function getCustomerAnalysis(device, rank) {
            if (rank === 0) {
                return '最佳客户，设备使用规范，值得深度合作';
            } else if (rank === 1) {
                return '优质客户，有潜在增购需求';
            } else {
                return '需要技术支持，关注设备使用情况';
            }
        }

        function getEnhancedComparisonMetrics(device, dimension, dimInfo) {
            const metrics = {
                'uptime': `
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-chart-line" style="color: ${dimInfo.primary}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">开机率</div>
                            <div style="font-weight: bold; color: ${dimInfo.primary}; font-size: 1.4rem;">${device.uptimeRate}%</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-exclamation-circle" style="color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">故障数</div>
                            <div style="font-weight: bold; color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.4rem;">${device.faultCount}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-sync" style="color: #17a2b8; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">启动次数</div>
                            <div style="font-weight: bold; color: #17a2b8; font-size: 1.4rem;">${device.monthStarts}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-clock" style="color: #6f42c1; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">日运行</div>
                            <div style="font-weight: bold; color: #6f42c1; font-size: 1.4rem;">${device.avgDailyRuntime}h</div>
                        </div>
                    </div>
                `,
                'frequency': `
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-sync" style="color: ${dimInfo.primary}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">启动次数</div>
                            <div style="font-weight: bold; color: ${dimInfo.primary}; font-size: 1.4rem;">${device.monthStarts}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-chart-line" style="color: #28a745; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">开机率</div>
                            <div style="font-weight: bold; color: #28a745; font-size: 1.4rem;">${device.uptimeRate}%</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-exclamation-circle" style="color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">故障数</div>
                            <div style="font-weight: bold; color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.4rem;">${device.faultCount}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-clock" style="color: #6f42c1; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">日运行</div>
                            <div style="font-weight: bold; color: #6f42c1; font-size: 1.4rem;">${device.avgDailyRuntime}h</div>
                        </div>
                    </div>
                `,
                'stability': `
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-shield-alt" style="color: ${dimInfo.primary}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">故障数</div>
                            <div style="font-weight: bold; color: ${dimInfo.primary}; font-size: 1.4rem;">${device.faultCount}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-chart-line" style="color: #28a745; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">开机率</div>
                            <div style="font-weight: bold; color: #28a745; font-size: 1.4rem;">${device.uptimeRate}%</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-sync" style="color: #17a2b8; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">启动次数</div>
                            <div style="font-weight: bold; color: #17a2b8; font-size: 1.4rem;">${device.monthStarts}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-clock" style="color: #6f42c1; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">日运行</div>
                            <div style="font-weight: bold; color: #6f42c1; font-size: 1.4rem;">${device.avgDailyRuntime}h</div>
                        </div>
                    </div>
                `,
                'usage': `
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-clock" style="color: ${dimInfo.primary}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">日运行</div>
                            <div style="font-weight: bold; color: ${dimInfo.primary}; font-size: 1.4rem;">${device.avgDailyRuntime}h</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-chart-line" style="color: #28a745; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">开机率</div>
                            <div style="font-weight: bold; color: #28a745; font-size: 1.4rem;">${device.uptimeRate}%</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-sync" style="color: #17a2b8; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">启动次数</div>
                            <div style="font-weight: bold; color: #17a2b8; font-size: 1.4rem;">${device.monthStarts}</div>
                        </div>
                        <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <i class="fas fa-exclamation-circle" style="color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.5rem; margin-bottom: 8px;"></i>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">故障数</div>
                            <div style="font-weight: bold; color: ${device.faultCount > 5 ? '#dc3545' : '#28a745'}; font-size: 1.4rem;">${device.faultCount}</div>
                        </div>
                    </div>
                `
            };
            
            return metrics[dimension];
        }

        function getEnhancedCustomerAnalysis(device, rank) {
            if (rank === 0) {
                return '🏆 行业标杆<br>设备使用效率极高<br>值得重点合作';
            } else if (rank === 1) {
                return '⭐ 优质客户<br>有增购潜力<br>建议主动沟通';
            } else if (rank === 2) {
                return '👍 表现良好<br>运营相对稳定<br>维持现有服务';
            } else {
                return '⚠️ 需要关注<br>可能存在问题<br>建议技术支持';
            }
        }

        function getOverallScore(device) {
            // 综合评分算法：开机率40% + (100-故障数*5)30% + (启动次数/30*100)15% + (运行时长/20*100)15%
            const uptimeScore = device.uptimeRate * 0.4;
            const faultScore = Math.max(0, (100 - device.faultCount * 5)) * 0.3;
            const frequencyScore = Math.min(100, (device.monthStarts / 30 * 100)) * 0.15;
            const usageScore = Math.min(100, (device.avgDailyRuntime / 20 * 100)) * 0.15;
            
            return Math.round(uptimeScore + faultScore + frequencyScore + usageScore);
        }

        function generateModelSummary(devices, dimension, dimInfo) {
            const bestCustomer = devices[0];
            const worstCustomer = devices[devices.length - 1];
            const avgUptime = devices.reduce((sum, d) => sum + d.uptimeRate, 0) / devices.length;
            
            return `
                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 20px; padding: 30px; margin-top: 25px; border: 1px solid #dee2e6;">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <h3 style="color: #333; margin: 0 0 8px 0; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; gap: 10px;">
                            <i class="fas fa-chart-bar" style="color: #667eea;"></i>
                            ${devices[0].model} 客户使用分析报告
                        </h3>
                        <p style="color: #6c757d; margin: 0; font-size: 1rem;">基于${getDimensionText(dimension)}的客户表现洞察</p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 25px;">
                        <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                            <h4 style="color: #333; margin: 0 0 15px 0; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-crown" style="color: #ffd700;"></i>
                                最佳客户案例
                            </h4>
                            <div style="background: linear-gradient(135deg, #ffd700, #ffed4e); color: #333; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                                <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 5px;">${bestCustomer.customerName}</div>
                                <div style="opacity: 0.8; font-size: 0.9rem;">${bestCustomer.deviceId} • 综合评分 ${getOverallScore(bestCustomer)}分</div>
                            </div>
                            <div style="color: #495057; font-size: 0.9rem; line-height: 1.5;">
                                <strong>成功特征：</strong><br>
                                • 开机率：${bestCustomer.uptimeRate}%<br>
                                • 故障控制：${bestCustomer.faultCount} 次/月<br>
                                • 使用频率：${bestCustomer.monthStarts} 次启动<br>
                                <strong style="color: #28a745;">其他客户学习标杆</strong>
                            </div>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                            <h4 style="color: #333; margin: 0 0 15px 0; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-chart-line" style="color: #667eea;"></i>
                                整体表现分析
                            </h4>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                                <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">平均开机率</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: ${avgUptime > 85 ? '#28a745' : '#ffc107'};">${avgUptime.toFixed(1)}%</div>
                                </div>
                                <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">客户数量</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #667eea;">${devices.length}</div>
                                </div>
                                <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">最大差距</div>
                                    <div style="font-size: 1.2rem; font-weight: bold; color: #dc3545;">${(bestCustomer.uptimeRate - worstCustomer.uptimeRate).toFixed(1)}%</div>
                                </div>
                                <div style="text-align: center; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 5px;">优质客户</div>
                                    <div style="font-size: 1.2rem; font-weight: bold; color: #28a745;">${devices.filter(d => getOverallScore(d) > 80).length}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: ${dimInfo.gradient}; color: white; padding: 25px; border-radius: 15px; text-align: center;">
                        <h4 style="margin: 0 0 15px 0; font-size: 1.2rem;">
                            <i class="fas fa-lightbulb" style="margin-right: 8px;"></i>
                            商业洞察与建议
                        </h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; text-align: left;">
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px;">
                                <div style="font-weight: bold; margin-bottom: 8px;">🎯 销售策略</div>
                                <div style="font-size: 0.9rem; opacity: 0.9;">
                                    向 ${bestCustomer.customerName} 等优质客户推荐升级产品
                                </div>
                            </div>
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px;">
                                <div style="font-weight: bold; margin-bottom: 8px;">🔧 技术支持</div>
                                <div style="font-size: 0.9rem; opacity: 0.9;">
                                    为表现较差的客户提供使用培训和技术指导
                                </div>
                            </div>
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px;">
                                <div style="font-weight: bold; margin-bottom: 8px;">📊 产品优化</div>
                                <div style="font-size: 0.9rem; opacity: 0.9;">
                                    分析表现差异，改进产品设计和用户体验
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // 导出和刷新功能
        function exportComparisonData() {
            alert('导出对比分析报告功能开发中...');
        }

        function refreshComparisonData() {
            clearComparisonResults();
            alert('对比数据已刷新');
        }

        // 页面加载时初始化启停记录页面
        window.addEventListener('DOMContentLoaded', function() {
            updateStartStopTable();
        });

        // 快捷操作函数
        function viewFullMap() {
            alert('查看地理分布大图功能开发中...');
        }

        function viewDetailChart() {
            alert('查看详细图表功能开发中...');
        }

        function viewAllAlerts() {
            alert('查看全部告警功能开发中...');
        }

        window.addEventListener('DOMContentLoaded', function() {
            // 默认显示产品概览页面
            showPage('product-overview');
            
            // 初始化时间
            refreshData();
            
            // 设置自动刷新
            setInterval(refreshData, 30000); // 30秒刷新一次
            
            // 设置第一个菜单项为活跃状态
            const firstMenuItem = document.querySelector('.menu-item');
            if (firstMenuItem) {
                firstMenuItem.classList.add('active');
            }
            
            // 初始化启停记录页面数据
            updateRecordsTable(allRecordsData);
        });
    </script>
</body>
</html>